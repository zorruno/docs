<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Documentation (Wiki) for Tasmota"><link href=https://tasmota.github.io/docs/Smart-Meter-Interface/ rel=canonical><link rel="shortcut icon" href=../_media/favicon.ico><meta name=generator content="mkdocs-1.1.2, mkdocs-material-6.1.5"><title>Smart Meter Interface - Tasmota</title><link rel=stylesheet href=../assets/stylesheets/main.21aed14c.min.css><link rel=stylesheet href=../assets/stylesheets/palette.196e0c26.min.css><meta name=theme-color content=#2094f3><link href=https://fonts.gstatic.com rel=preconnect crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Barlow:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>body,input{font-family:"Barlow",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style><link rel=stylesheet href=../assets/css/anchor-fix.css><script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-140681905-2","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}),document.addEventListener("DOMContentSwitch",function(){ga("send","pageview",document.location.pathname)})</script><script async src=https://www.google-analytics.com/analytics.js></script></head> <body dir=ltr data-md-color-scheme=preference data-md-color-primary=blue data-md-color-accent=indigo> <script>matchMedia("(prefers-color-scheme: dark)").matches&&document.body.setAttribute("data-md-color-scheme","slate")</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#descriptor-syntax class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid" aria-label=Header> <a href=https://tasmota.github.io/docs/ title=Tasmota class="md-header-nav__button md-logo" aria-label=Tasmota> <img src=../_media/logo.svg alt=logo> </a> <label class="md-header-nav__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header-nav__title data-md-component=header-title> <div class=md-header-nav__ellipsis> <span class="md-header-nav__topic md-ellipsis"> Tasmota </span> <span class="md-header-nav__topic md-ellipsis"> Smart Meter Interface </span> </div> </div> <label class="md-header-nav__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query data-md-state=active required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <button type=reset class="md-search__icon md-icon" aria-label=Clear data-md-component=search-reset tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header-nav__source> <a href=https://github.com/arendst/tasmota/ title="Go to repository" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg> </div> <div class=md-source__repository> arendst/tasmota </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class="md-tabs md-tabs--active" aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../Features/ class="md-tabs__link md-tabs__link--active"> Features </a> </li> <li class=md-tabs__item> <a href=../Integrations/ class=md-tabs__link> Smart Home Integrations </a> </li> <li class=md-tabs__item> <a href=../Supported-Peripherals/ class=md-tabs__link> Peripherals </a> </li> <li class=md-tabs__item> <a href=../Configuration-Procedure-for-New-Devices/ class=md-tabs__link> Supported Devices </a> </li> <li class=md-tabs__item> <a href=../FAQ/ class=md-tabs__link> Help </a> </li> <li class=md-tabs__item> <a href="http://ota.tasmota.com/tasmota/release/ " target='_blank""' class=md-tabs__link> Download </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=https://tasmota.github.io/docs/ title=Tasmota class="md-nav__button md-logo" aria-label=Tasmota> <img src=../_media/logo.svg alt=logo> </a> Tasmota </label> <div class=md-nav__source> <a href=https://github.com/arendst/tasmota/ title="Go to repository" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg> </div> <div class=md-source__repository> arendst/tasmota </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. class=md-nav__link> Home </a> </li> <li class=md-nav__item> <a href=../About/ class=md-nav__link> About </a> </li> <li class=md-nav__item> <a href=../Getting-Started/ class=md-nav__link> Getting Started </a> </li> <li class=md-nav__item> <a href=../Upgrading/ class=md-nav__link> Upgrading </a> </li> <li class=md-nav__item> <a href=../MQTT/ class=md-nav__link> MQTT </a> </li> <li class=md-nav__item> <a href=../Commands/ class=md-nav__link> Commands </a> </li> <li class=md-nav__item> <a href=../Templates/ class=md-nav__link> Templates </a> </li> <li class=md-nav__item> <a href=../Components/ class=md-nav__link> Components </a> </li> <li class=md-nav__item> <a href=../Modules/ class=md-nav__link> Modules </a> </li> <li class=md-nav__item> <a href=../Peripherals/ class=md-nav__link> Peripherals </a> </li> <li class=md-nav__item> <a href=../WebUI/ class=md-nav__link> WebUI </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-12 type=checkbox id=nav-12 checked> <label class=md-nav__link for=nav-12> Features <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Features data-md-level=1> <label class=md-nav__title for=nav-12> <span class="md-nav__icon md-icon"></span> Features </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Features/ class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=../Bluetooth/ class=md-nav__link> Bluetooth </a> </li> <li class=md-nav__item> <a href=../Buttons-and-Switches/ class=md-nav__link> Buttons and Switches </a> </li> <li class=md-nav__item> <a href=../DeepSleep/ class=md-nav__link> DeepSleep </a> </li> <li class=md-nav__item> <a href=../Device-Groups/ class=md-nav__link> Device Groups </a> </li> <li class=md-nav__item> <a href=../Dynamic-Sleep/ class=md-nav__link> Dynamic Sleep </a> </li> <li class=md-nav__item> <a href=../I2CDevices/ class=md-nav__link> I2C Devices </a> </li> <li class=md-nav__item> <a href=../Tasmota-IR/ class=md-nav__link> IR Communication </a> </li> <li class=md-nav__item> <a href=../Lights/ class=md-nav__link> Lights </a> </li> <li class=md-nav__item> <a href=../OpenTherm/ class=md-nav__link> OpenTherm </a> </li> <li class=md-nav__item> <a href=../PIR-Motion-Sensors/ class=md-nav__link> PIR Motion Sensors </a> </li> <li class=md-nav__item> <a href=../Power-Monitoring-Calibration/ class=md-nav__link> Power Monitoring Calibration </a> </li> <li class=md-nav__item> <a href=../PWM-dimmer-switch/ class=md-nav__link> PWM Dimmer </a> </li> <li class=md-nav__item> <a href=../RF-Protocol/ class=md-nav__link> RF 433MHz Protocol </a> </li> <li class=md-nav__item> <a href=../Rules/ class=md-nav__link> Rules </a> </li> <li class=md-nav__item> <a href=../Scripting-Language/ class=md-nav__link> Scripting </a> </li> <li class=md-nav__item> <a href=../Blinds-and-Shutters/ class=md-nav__link> Shutters and Blinds </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Smart Meter Interface <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Smart Meter Interface </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#descriptor-syntax class=md-nav__link> Descriptor Syntax </a> <nav class=md-nav aria-label="Descriptor Syntax"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#meter-declaration class=md-nav__link> Meter Declaration </a> </li> <li class=md-nav__item> <a href=#meter-metrics class=md-nav__link> Meter Metrics </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#smart-meter-descriptors class=md-nav__link> Smart Meter Descriptors </a> <nav class=md-nav aria-label="Smart Meter Descriptors"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#janz-c3801-sml-modbus class=md-nav__link> JANZ C3801 (SML - MODBUS) </a> </li> <li class=md-nav__item> <a href=#emh-ed300l-sml class=md-nav__link> EMH ED300L (SML) </a> </li> <li class=md-nav__item> <a href=#hager-ehz363-sml class=md-nav__link> Hager EHZ363 (SML) </a> </li> <li class=md-nav__item> <a href=#hager-ehz161-obis class=md-nav__link> Hager EHZ161 (OBIS) </a> </li> <li class=md-nav__item> <a href=#landis-gyr-zmr120ares2r2sfcs-obis class=md-nav__link> Landis + Gyr ZMR120AReS2R2sfCS (OBIS) </a> </li> <li class=md-nav__item> <a href=#combo-meter-watergassml class=md-nav__link> COMBO Meter (Water,Gas,SML) </a> </li> <li class=md-nav__item> <a href=#wolf-csz-11300-heater class=md-nav__link> WOLF CSZ 11/300 Heater </a> </li> <li class=md-nav__item> <a href=#modbus-devices class=md-nav__link> MODBUS Devices </a> </li> <li class=md-nav__item> <a href=#sdm530 class=md-nav__link> SDM530 </a> </li> <li class=md-nav__item> <a href=#sdm230 class=md-nav__link> SDM230 </a> </li> <li class=md-nav__item> <a href=#janitza-b23 class=md-nav__link> Janitza B23 </a> </li> <li class=md-nav__item> <a href=#hager-ehz363-sml-with-daily-values class=md-nav__link> Hager EHZ363 (SML) with daily values </a> </li> <li class=md-nav__item> <a href=#iskra-mt-174-obis class=md-nav__link> Iskra MT 174 (OBIS) </a> </li> <li class=md-nav__item> <a href=#sbc-ale3-modbus class=md-nav__link> SBC ALE3 MODBUS </a> </li> <li class=md-nav__item> <a href=#2-sbc-ale3-modbus class=md-nav__link> 2 * SBC ALE3 MODBUS </a> </li> <li class=md-nav__item> <a href=#4-hiking-dds238-2-zns3-modbus class=md-nav__link> 4 * Hiking DDS238-2 ZN/S3 MODBUS </a> </li> <li class=md-nav__item> <a href=#trovis-557x class=md-nav__link> Trovis 557x </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../Subscribe-%26-Unsubscribe/ class=md-nav__link> Subscribe & Unsubscribe </a> </li> <li class=md-nav__item> <a href=../TasmotaClient/ class=md-nav__link> TasmotaClient </a> </li> <li class=md-nav__item> <a href=../Thermostat/ class=md-nav__link> Thermostat </a> </li> <li class=md-nav__item> <a href=../Timers/ class=md-nav__link> Timers </a> </li> <li class=md-nav__item> <a href=../TLS/ class=md-nav__link> TLS Secured MQTT </a> </li> <li class=md-nav__item> <a href=../TuyaMCU/ class=md-nav__link> TuyaMCU </a> </li> <li class=md-nav__item> <a href=../Zigbee/ class=md-nav__link> Zigbee </a> </li> <li class=md-nav__item> <a href=../Tutorials/ class=md-nav__link> Projects and Tutorials </a> </li> <li class=md-nav__item> <a href=../For-Developers/ class=md-nav__link> For Developers </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-13 type=checkbox id=nav-13> <label class=md-nav__link for=nav-13> Smart Home Integrations <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Smart Home Integrations" data-md-level=1> <label class=md-nav__title for=nav-13> <span class="md-nav__icon md-icon"></span> Smart Home Integrations </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Integrations/ class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=../Alexa/ class=md-nav__link> Alexa </a> </li> <li class=md-nav__item> <a href=../AWS-IoT/ class=md-nav__link> AWS IoT </a> </li> <li class=md-nav__item> <a href=../Domoticz/ class=md-nav__link> Domoticz </a> </li> <li class=md-nav__item> <a href=../Home-Assistant/ class=md-nav__link> Home Assistant </a> </li> <li class=md-nav__item> <a href=../Homebridge/ class=md-nav__link> Homebridge </a> </li> <li class=md-nav__item> <a href=../HomeSeer/ class=md-nav__link> HomeSeer </a> </li> <li class=md-nav__item> <a href=../IP-Symcon/ class=md-nav__link> IP Symcon </a> </li> <li class=md-nav__item> <a href=../KNX/ class=md-nav__link> KNX </a> </li> <li class=md-nav__item> <a href=../NodeRed/ class=md-nav__link> NodeRed </a> </li> <li class=md-nav__item> <a href=../nymea/ class=md-nav__link> nymea </a> </li> <li class=md-nav__item> <a href=../Octoprint/ class=md-nav__link> OctoPrint </a> </li> <li class=md-nav__item> <a href=../openHAB/ class=md-nav__link> openHAB </a> </li> <li class=md-nav__item> <a href=../otto/ class=md-nav__link> Otto </a> </li> <li class=md-nav__item> <a href=https://github.com/arendst/Tasmota/issues/3769 class=md-nav__link> IOBroker </a> </li> <li class=md-nav__item> <a href=https://github.com/tim-hellhake/tasmota-adapter class=md-nav__link> Mozilla WebThings Adapter </a> </li> <li class=md-nav__item> <a href=https://github.com/hongtat/tasmota-connect class=md-nav__link> SmartThings </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-14 type=checkbox id=nav-14> <label class=md-nav__link for=nav-14> Peripherals <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Peripherals data-md-level=1> <label class=md-nav__title for=nav-14> <span class="md-nav__icon md-icon"></span> Peripherals </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Supported-Peripherals/ class=md-nav__link> Supported Peripherals </a> </li> <li class=md-nav__item> <a href=../ADC/ class=md-nav__link> Analog pin </a> </li> <li class=md-nav__item> <a href=../Buzzer/ class=md-nav__link> Buzzer </a> </li> <li class=md-nav__item> <a href=../Displays/ class=md-nav__link> Displays </a> </li> <li class=md-nav__item> <a href=../ESP32/ class=md-nav__link> ESP32 Support (Beta development) </a> </li> <li class=md-nav__item> <a href=../A4988-Stepper-Motor-Controller/ class=md-nav__link> A4988 stepper motor controller </a> </li> <li class=md-nav__item> <a href=../AHT1x/ class=md-nav__link> AHT1x temperature and humidity sensor </a> </li> <li class=md-nav__item> <a href=../AM2301/ class=md-nav__link> AM2301 temperature and humidity sensor </a> </li> <li class=md-nav__item> <a href=../APDS-9960/ class=md-nav__link> APDS-9960 light and gesture sensor </a> </li> <li class=md-nav__item> <a href=../AS3935/ class=md-nav__link> AS3935 Franklin Lightning sensor </a> </li> <li class=md-nav__item> <a href=../AZ-7798/ class=md-nav__link> AZ7798 CO<sub>2</sub> meter </a> </li> <li class=md-nav__item> <a href=../BH1750/ class=md-nav__link> BH1750 ambient light sensor </a> </li> <li class=md-nav__item> <a href=../BME280/ class=md-nav__link> BME280 temperature, humidity and pressure sensor </a> </li> <li class=md-nav__item> <a href=../BME680/ class=md-nav__link> BME680 temperature, humidity, pressure and gas sensor </a> </li> <li class=md-nav__item> <a href=../CC2530/ class=md-nav__link> CC253x Zigbee module </a> </li> <li class=md-nav__item> <a href=../Moisture-Sensor-and-Chirp%21-Sensor/ class=md-nav__link> Chirp! moisture sensor </a> </li> <li class=md-nav__item> <a href=../DHT11/ class=md-nav__link> DHT11 temperature and humidity sensor </a> </li> <li class=md-nav__item> <a href=../DS18x20/ class=md-nav__link> DS18x20 temperature sensor </a> </li> <li class=md-nav__item> <a href=../DS3231/ class=md-nav__link> DS3231 Real Time Clock </a> </li> <li class=md-nav__item> <a href=../EZO/ class=md-nav__link> EZO sensors </a> </li> <li class=md-nav__item> <a href=../HM-10/ class=md-nav__link> HM-10 Bluetooth module </a> </li> <li class=md-nav__item> <a href=../HM-17/ class=md-nav__link> HM-17 Bluetooth module </a> </li> <li class=md-nav__item> <a href=../HC-SR04/ class=md-nav__link> HC-SR04 ultrasonic ranging sensor </a> </li> <li class=md-nav__item> <a href=../Honeywell-HIH/ class=md-nav__link> Honeywell HIH temperature and humidity sensor </a> </li> <li class=md-nav__item> <a href=../IAQ/ class=md-nav__link> iAQ-Core indoor air quality sensor </a> </li> <li class=md-nav__item> <a href=../IR-Remote/ class=md-nav__link> IR Remote </a> </li> <li class=md-nav__item> <a href=../LM75AD/ class=md-nav__link> LM75AD temperature sensor </a> </li> <li class=md-nav__item> <a href=../MCP230xx/ class=md-nav__link> MCP23008 / MCP23017 GPIO Expander </a> </li> <li class=md-nav__item> <a href=../MGC3130/ class=md-nav__link> MGC3130 3D tracking and gesture controller </a> </li> <li class=md-nav__item> <a href=../MH-Z19B/ class=md-nav__link> MH-Z19B CO<sub>2</sub> Sensor </a> </li> <li class=md-nav__item> <a href=../MLX90614/ class=md-nav__link> MLX90614 infrared thermometer </a> </li> <li class=md-nav__item> <a href=../MLX90640/ class=md-nav__link> MLX90640 Far infrared thermal sensor array </a> </li> <li class=md-nav__item> <a href=../MPR121/ class=md-nav__link> MPR121 capacitive touch sensor </a> </li> <li class=md-nav__item> <a href=../MPU-6050/ class=md-nav__link> MPU-6050 gyroscope and accelerometer </a> </li> <li class=md-nav__item> <a href=../NRF24L01/ class=md-nav__link> NRF24L01 module </a> </li> <li class=md-nav__item> <a href=../OpenTherm/ class=md-nav__link> OpenTherm </a> </li> <li class=md-nav__item> <a href=../P1-Smart-Meter/ class=md-nav__link> P1 Smart Meter </a> </li> <li class=md-nav__item> <a href=../PAJ7620/ class=md-nav__link> PAJ7620U2 gesture sensor </a> </li> <li class=md-nav__item> <a href=../PCA9685/ class=md-nav__link> PCA9685 12-bit PWM controller </a> </li> <li class=md-nav__item> <a href=../PN532/ class=md-nav__link> PN532 NFC reader </a> </li> <li class=md-nav__item> <a href=../PZEM-0XX/ class=md-nav__link> PZEM-0xx power monitor </a> </li> <li class=md-nav__item> <a href=../RCWL-0516/ class=md-nav__link> RCWL-0516 microwave radar motion sensor </a> </li> <li class=md-nav__item> <a href=../RDM6300/ class=md-nav__link> RDM6300 RFID reader </a> </li> <li class=md-nav__item> <a href=../RF-Transciever/ class=md-nav__link> RF Transciever </a> </li> <li class=md-nav__item> <a href=../SDS011/ class=md-nav__link> SDS011 air quality sensor </a> </li> <li class=md-nav__item> <a href=../SHT30/ class=md-nav__link> SHT30 temperature sensor </a> </li> <li class=md-nav__item> <a href=../TX2x/ class=md-nav__link> TX20/TX23 anemometer </a> </li> <li class=md-nav__item> <a href=../TSL2561/ class=md-nav__link> TSL2561 light sensor </a> </li> <li class=md-nav__item> <a href=../VEML6070/ class=md-nav__link> VEML6070 UV light sensor </a> </li> <li class=md-nav__item> <a href=../VEML6075/ class=md-nav__link> VEML6075 UVA/UVB/UVINDEX Sensor </a> </li> <li class=md-nav__item> <a href=../VEML7700/ class=md-nav__link> VEML7700 Ambient light sensor </a> </li> <li class=md-nav__item> <a href=../VL53L0x/ class=md-nav__link> VL53L0X laser ranging module </a> </li> <li class=md-nav__item> <a href=../WS2812B-RGB-Shield/ class=md-nav__link> WS2812B RGB Shield </a> </li> <li class=md-nav__item> <a href=../WS2812B-and-WS2813/ class=md-nav__link> WS2812B and WS2813 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-15 type=checkbox id=nav-15> <label class=md-nav__link for=nav-15> Supported Devices <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Supported Devices" data-md-level=1> <label class=md-nav__title for=nav-15> <span class="md-nav__icon md-icon"></span> Supported Devices </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Configuration-Procedure-for-New-Devices/ class=md-nav__link> Configure Unknown Device </a> </li> <li class=md-nav__item> <a href="https://templates.blakadder.com/ " target='_blank""' class=md-nav__link> All Supported Devices </a> </li> <li class=md-nav__item> <a href=../Supported-Modules/ class=md-nav__link> Supported Modules </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-16 type=checkbox id=nav-16> <label class=md-nav__link for=nav-16> Help <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Help data-md-level=1> <label class=md-nav__title for=nav-16> <span class="md-nav__icon md-icon"></span> Help </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../FAQ/ class=md-nav__link> FAQ </a> </li> <li class=md-nav__item> <a href=../Troubleshooting/ class=md-nav__link> Troubleshooting </a> </li> <li class=md-nav__item> <a href=../Device-Recovery/ class=md-nav__link> Device Recovery </a> </li> <li class=md-nav__item> <a href="https://discord.gg/Ks2Kzd4 " target='_blank""' class=md-nav__link> Discord Support </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../Builds/ class=md-nav__link> Builds </a> </li> <li class=md-nav__item> <a href=../Compile-your-build/ class=md-nav__link> Compiling </a> </li> <li class=md-nav__item> <a href=../Contributing/ class=md-nav__link> Contributing </a> </li> <li class=md-nav__item> <a href="http://ota.tasmota.com/tasmota/release/ " target='_blank""' class=md-nav__link> Download </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#descriptor-syntax class=md-nav__link> Descriptor Syntax </a> <nav class=md-nav aria-label="Descriptor Syntax"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#meter-declaration class=md-nav__link> Meter Declaration </a> </li> <li class=md-nav__item> <a href=#meter-metrics class=md-nav__link> Meter Metrics </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#smart-meter-descriptors class=md-nav__link> Smart Meter Descriptors </a> <nav class=md-nav aria-label="Smart Meter Descriptors"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#janz-c3801-sml-modbus class=md-nav__link> JANZ C3801 (SML - MODBUS) </a> </li> <li class=md-nav__item> <a href=#emh-ed300l-sml class=md-nav__link> EMH ED300L (SML) </a> </li> <li class=md-nav__item> <a href=#hager-ehz363-sml class=md-nav__link> Hager EHZ363 (SML) </a> </li> <li class=md-nav__item> <a href=#hager-ehz161-obis class=md-nav__link> Hager EHZ161 (OBIS) </a> </li> <li class=md-nav__item> <a href=#landis-gyr-zmr120ares2r2sfcs-obis class=md-nav__link> Landis + Gyr ZMR120AReS2R2sfCS (OBIS) </a> </li> <li class=md-nav__item> <a href=#combo-meter-watergassml class=md-nav__link> COMBO Meter (Water,Gas,SML) </a> </li> <li class=md-nav__item> <a href=#wolf-csz-11300-heater class=md-nav__link> WOLF CSZ 11/300 Heater </a> </li> <li class=md-nav__item> <a href=#modbus-devices class=md-nav__link> MODBUS Devices </a> </li> <li class=md-nav__item> <a href=#sdm530 class=md-nav__link> SDM530 </a> </li> <li class=md-nav__item> <a href=#sdm230 class=md-nav__link> SDM230 </a> </li> <li class=md-nav__item> <a href=#janitza-b23 class=md-nav__link> Janitza B23 </a> </li> <li class=md-nav__item> <a href=#hager-ehz363-sml-with-daily-values class=md-nav__link> Hager EHZ363 (SML) with daily values </a> </li> <li class=md-nav__item> <a href=#iskra-mt-174-obis class=md-nav__link> Iskra MT 174 (OBIS) </a> </li> <li class=md-nav__item> <a href=#sbc-ale3-modbus class=md-nav__link> SBC ALE3 MODBUS </a> </li> <li class=md-nav__item> <a href=#2-sbc-ale3-modbus class=md-nav__link> 2 * SBC ALE3 MODBUS </a> </li> <li class=md-nav__item> <a href=#4-hiking-dds238-2-zns3-modbus class=md-nav__link> 4 * Hiking DDS238-2 ZN/S3 MODBUS </a> </li> <li class=md-nav__item> <a href=#trovis-557x class=md-nav__link> Trovis 557x </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <a href=https://github.com/tasmota/docs/blob/development/docs/Smart-Meter-Interface.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg> </a> <h1>Smart Meter Interface</h1> <div class="admonition failure"> <p class=admonition-title>This feature is not included in precompiled binaries</p> </div> <p>To use it you must <a href=../Compile-your-build/ >compile your build</a>. Add the following to <code>user_config_override.h</code>:</p> <div class=codehilite><pre><span></span><code><span class=c1>#ifndef USE_SCRIPT</span>
<span class=c1>#define USE_SCRIPT  # adds about 17k flash size, variable ram size</span>
<span class=c1>#endif</span>
<span class=c1>#ifndef USE_SML_M</span>
<span class=c1>#define USE_SML_M</span>
<span class=c1>#endif</span>
<span class=c1>#ifdef USE_RULES</span>
<span class=c1>#undef USE_RULES</span>
<span class=c1>#endif</span>
<span class=o>//</span> <span class=n>define</span> <span class=nb>max</span> <span class=n>number</span> <span class=n>of</span> <span class=n>decoder</span> <span class=n>entries</span> <span class=p>(</span><span class=n>defaults</span> <span class=n>to</span> <span class=mi>20</span> <span class=k>if</span> <span class=ow>not</span> <span class=n>defined</span><span class=p>)</span>
<span class=c1>#define SML_MAX_VARS N</span>
</code></pre></div> <hr> <p><strong>Driver for various meters , heating devices, and reed like contacts</strong></p> <p>To use this interface, connect the meter to available GPIO pins. These GPIOs must be set as <code>None (0)</code> components in Tasmota. If the interface detects that a meter descriptor GPIO conflicts with a Tasmota GPIO setting, the interface will generate a "duplicate GPIO defined" error in the log and the meter descriptor will be ignored. (only for script driven descriptors) if you use the deprecated hard coded interface and no meter script the default harcoded descriptor uses Pin 3 (REC) for receive and thus may interfere with other Tasmota Defintions without warning. </p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>on an ESP32 due to a different implementation serial ports may not be used in conjunction with other Tasmota serial devices. </p> </div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>when changing GPIO configurations especially in conjunction with other Tasmota drivers a restart may be required </p> </div> <p>The Smart Meter Interface provides a means to connect many kinds of meters to Tasmota. <strong>The following types of meter protocols are supported:</strong><br> - ASCII OBIS telegrams emitted from many smart meters and also from P1 meter interface<br> - Binary SML OBIS telegram emitted from many smart meters<br> - Binary EBUS telegram emitted by many heaters and heat pumps (e.g., Vaillant, Wolf)<br> - Binary MODBUS telegram used by many power meters<br> - Binary RAW telegram decodes all kinds of binary data eg EMS heater bus<br> - Counter interface (uses Tasmota counter storage) for e.g., reed contacts either in polling or IRQ mode </p> <p>There are many different meters that use the same protocol. There are multitudes of variants and use cases. A meter can be defined by using compilation time <code>#define</code> pragmas. This requires recompiling the firmware to make modifications. </p> <p>This interface provides a means of specifying these definitions through <a href=#smart-meter-descriptors>meter descriptors</a>. This method uses the <a href=../Scripting-Language/ >scripting language</a> editor to define the descriptors. In this way, only one firmware binary version is required and a modification can be made easily "on the fly". </p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>If no <code>&gt;M</code> section is found in the script or if the scripting language is not compiled, the driver reverts to the default <code>#define</code> definition(s). </p> </div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>Additional hardware is required to read certain measuring devices. For example: RS485toTTL Adaper for Modbus, IR transistor for electricity meters. Sometimes an additional IR diode and resistors. </p> </div> <h2 id=descriptor-syntax>Descriptor Syntax<a class=headerlink href=#descriptor-syntax title="Permanent link">~</a></h2> <p>This section must be present, but empty. In most cases, there is no need to define variables for this driver. </p> <blockquote> <p><code>&gt;D</code> </p> </blockquote> <p>Declare a script <code>&gt;B</code> (boot) section to inform the interface to read the meter descriptor(s)</p> <blockquote> <p><code>&gt;B</code><br> =&gt;<a href=../Commands/#sensor53>sensor53</a> r</p> </blockquote> <p>Declare a script <code>&gt;M</code> section with the number of connected meters (n = <code>1..5</code>)</p> <blockquote> <p><code>&gt;M &lt;n&gt;</code> </p> </blockquote> <hr> <h3 id=meter-declaration>Meter Declaration<a class=headerlink href=#meter-declaration title="Permanent link">~</a></h3> <p><code>+&lt;M&gt;,&lt;rxGPIO&gt;,&lt;type&gt;,&lt;flag&gt;,&lt;parameter&gt;,&lt;jsonPrefix&gt;{,&lt;txGPIO&gt;,&lt;txPeriod&gt;,&lt;cmdTelegram&gt;}</code> </p> <div class="admonition example"> <p class=admonition-title>Example</p> </div> <p><code>+1,3,o,0,9600,OBIS1,1,2,2F3F210D0A</code> <code>+1,3,s,16,9600,SML1</code><br> <code>+1,12,c,1,-10,H20_Cnt</code><br> <code>+1,3,m,0,9600,MODBUS,1,1,01040000,01040002,01040004,01040006,01040008,0104000a,0104000c,0104000e,01040010</code> </p> <p><code>+&lt;M&gt;,&lt;rxGPIO&gt;,&lt;type&gt;,&lt;flag&gt;,&lt;parameter&gt;,&lt;jsonPrefix&gt;{,&lt;txGPIO&gt;,&lt;txPeriod&gt;,&lt;cmdTelegram&gt;}</code><br> - <code>&lt;M&gt;</code> - meter number. The number must be increased with each additional Meter. (1...5)<br> - <code>&lt;rxGPIO&gt;</code> - meter data receive GPIO<br> - <code>&lt;type&gt;</code> - meter type of meter:<br> - <code>o</code> = OBIS ASCII type of coding<br> - <code>s</code> = SML binary smart message coding<br> - <code>c</code> = Counter type<br> - <code>e</code> = EBus binary coding<br> - <code>m</code> = MODBus binary coding with serial mode 8N1 <br> - <code>M</code> = MODBus binary coding with serial mode 8E1<br> - <code>r</code> = Raw binary coding (any binary telegram)<br> - <code>&lt;flag&gt;</code> - options flag:<br> - <code>0</code> = counter without pullup<br> - <code>1</code> = counter with pullup <br> - <code>16</code> = enable median filter for that meter. Can help with sporadic dropouts eg. reading errors. (not available for counters) <br> - <code>&lt;parameter&gt;</code> - parameters according to meter type:<br> - for <code>o,s,e,m,r</code>: serial baud rate eg. 9600<br> - for <code>c</code>:<br> - positive value &gt;0 = counter poll interval<br> - negative value &lt;=0 = debounce time (milliseconds) for irq driven counters<br> - <code>&lt;jsonPrefix&gt;</code> - prefix for Web UI and MQTT JSON payload. Up to 7 characters<br> - <code>&lt;txGPIO&gt;</code> - meter command transmit GPIO (optional)<br> - <code>&lt;txPeriod&gt;</code> - number of 100ms increments (n * 100ms). Period to repeat the transmission of commands to the meter (optional)<br> - <code>&lt;cmdTelegram&gt;</code> - comma separated hex coded byte blocks to send to meter device. For modbus each comma separated block is a command to retrieve a certain register from the meter (Optional, only required for measuring devices that have to be triggered with a certain character string.) </p> <p><strong>Modbus:</strong></p> <div class="admonition example"> <p class=admonition-title>Example</p> </div> <p><code>+1,3,m,0,9600,MODBUS,1,1,01040000,01040002,01040004,01040006,01040008,0104000a,0104000c,0104000e,01040010</code> <br> Components of the character string:<br> <code>...01040000,01040002,...</code> <br> <code>01</code> = Modbus slave device ID <br> <code>04</code> = Instruction to read an Input Register (alternatively, <code>03</code> = Instruction to read an Holding Register) <code>0000</code>/<code>0002</code> = Register # (as Hexadecimal codification, without the prefix <code>0x</code>. Example: <code>0x0079</code> -&gt; <code>0079</code>)<br> the number of requested registers is fixed to 2, however with the char 'r' before the hex string the complete request string may be specified<br> <code>...r010400000001,r010400020003,...</code> </p> <div class="admonition note"> <p class=admonition-title>Note</p> <p><code>ID</code>, <code>Instruction to read the Register</code> value (Input vs Holding) and <code>Register #</code> may differ depending on the measuring device. </p> </div> <hr> <h3 id=meter-metrics>Meter Metrics<a class=headerlink href=#meter-metrics title="Permanent link">~</a></h3> <p>Each meter typically provides multiple metrics (voltage, power, current etc.) which it measures. An entry for each metric to be collected must be specified. up to 20 entries may be defined (default or <code>#define SML_MAX_VARS N</code> a larger number may be defined in <code>user_config_override.h</code> file). An entry defines how to decode the data and put it into variables.</p> <div class="admonition example"> <p class=admonition-title>Example</p> </div> <p>(OBIS/SML/MODBus):<br> <code>1,1-0:1.8.1\*255(@1,Total consumption,KWh,Total_in,4</code><br> <code>1,77070100010801ff@1000,W1,kWh,w1,4</code><br> <code>1,010304UUuuxxxxxxxx@i0:1,Spannung L1,V,Voltage_L1,0</code> </p> <p><code>&lt;M&gt;,&lt;decoder&gt;@&lt;scale&gt;,&lt;label&gt;,&lt;UoM&gt;,&lt;var&gt;,&lt;precision&gt;</code><br> - <code>&lt;M&gt;</code> - meter number to which this decoder belongs<br> - <code>&lt;decoder&gt;</code> - decoding specification. Decode OBIS as ASCII; SML, EBUS, MODBus, RAW as HEX ASCII - OBIS: ASCII OBIS code terminated with <code>(</code> character which indicates the start of the meter value<br> - SML: SML binary OBIS as hex terminated with <code>0xFF</code> indicating start of SML encoded value<br> - EBUS, MODBus, RAW: hex values of EBUS, MODBus, RAW block to compare<br> - <code>xx</code> means ignore value (1 byte)<br> - <code>ss</code> = extract a signed byte<br> - <code>uu</code> = extract an unsigned byte<br> - <code>UUuu</code> = extract an unsigned word (high order byte first)<br> - <code>uuUU</code> = extract an unsigned word (low order byte first)<br> - <code>UUuuUUuu</code> = extract an unsigned long word (high order byte first)<br> - <code>SSss</code> = extract a signed word (high order byte first) <br> - <code>ssSS</code> = extract a signed word (low order byte first)<br> - <code>SSssSSss</code> = extract an signed long word (high order byte first)<br> - <code>ffffffff</code> = extract a float value<br> - <code>FFffFFff</code> = extract a reverse float value<br> - <code>@</code> decoding definition termination character<br> - decoding a 0/1 bit is indicated by a <code>@</code> character followed by <code>bx:</code> (x = <code>0..7</code>) extracting the corresponding bit from a byte. <br> e.g.: <code>1,xxxx5017xxuu@b0:1,Solarpump,,Solarpump,0</code><br> - in the case of <strong>MODBus</strong>, <code>ix:</code> designates the index (x = <code>0..n</code>) referring to the requested block in the transmit section of the meter definition </p> <div class="admonition example"> <p class=admonition-title>Example</p> </div> <p><code>+1,3,M,1,9600,SBC,1,2,01030023,01030028...</code><br> <code>1,010304UUuuxxxxxxxx@i0:1,Voltage L1,V,Voltage_L1,0</code> &lt; the <code>i0:1</code> refers to: <code>01030023</code> with a scaling factor (<code>:1</code>) of 1 <br> <code>1,010304UUuuxxxxxxxx@i1:10,Current L1,V,Current_L1,2</code> &lt; the <code>i1:10</code> refers to: <code>01030028</code> with a scaling factor (<code>:10</code>) of 10 <br> - <code>&lt;scale&gt;</code> - scaling factor (divisor)<br> This can be a fraction (e.g., 0.1 =&gt; result * 10), or a negative value<br> When decoding a string result (e.g., a serial meter), use <code>#</code> character for this parameter (only in one line per meter). For OBIS, you need a <code>)</code> termination character after the <code>#</code> character<br> Example: OBIS: <code>1,1-0:0.0.0\*255(@#),Meter Nr,, Meter_number,0</code><br> SML: <code>1,77078181c78203ff@#,Service ID,,Meter_id,0</code><br> - <code>&lt;label&gt;</code> - web UI label (max 23 chars) if this label is the single char '*' the WEB UI is discarded for this line<br> - <code>&lt;UoM&gt;</code> - unit of measure (max 7 chars)<br> - <code>&lt;var&gt;</code> - MQTT variable name (max 23 chars)<br> - <code>&lt;precision&gt;</code> - number of decimal places<br> Add 16 to transmit the data immediately. Otherwise it is transmitted on <a href=../Commands/#teleperiod><code>TelePeriod</code></a> </p> <div class="admonition example"> <p class=admonition-title>Example</p> </div> <p><code>1,1-0:1.8.0*255(@1,consumption,KWh,Total_in,4</code> &gt; Transmitted on <a href=../Commands/#teleperiod><code>TelePeriod</code></a> <br> <code>1,1-0:1.8.0*255(@1,consumption,KWh,Total_in,20</code> &gt; Precision of 4. 4 + 16 = 20 &gt;transmit its value immediately </p> <p><code>#</code> character terminates the list </p> <div class="admonition note"> <p class=admonition-title>Note</p> <p>in the decoding section of the meter defintions before the @ char no space chars are allowed </p> </div> <hr> <p><strong>Special Commands</strong></p> <ul> <li> <p>With the '=' char at the beginning of a line you may do some special decoding </p> </li> <li> <p><code>M,=m</code> perform arithmetic (<code>+,-,*,/</code>) on the metric. Use <code>#</code> before a number to designate a constant value </p> </li> </ul> <div class="admonition example"> <p class=admonition-title>Example</p> </div> <p><code>1,=m 3+4+5/#3 @100,Voltage L1+L2+L3/3,V,Volt_avg,2</code><br> <code>1,=m 3+4+5/#3</code> add result of decoder entry 3,4,5 and divided by 3 (i.e., average)<br> - <code>M,=d</code> calculate difference between metric values decoded at time intervals (up to 10 =d lines possible) </p> <div class="admonition example"> <p class=admonition-title>Example</p> </div> <p><code>1,=d 3 10</code> calculate 10 second interval difference of decoder entry 3<br> - <code>M,=h</code> html text (up to 30 chars)<br> inserts a html line between entries (these lines do not count as decoder entry) </p> <div class="admonition example"> <p class=admonition-title>Example</p> </div> <p><code>1,=h==================</code> insert a separator line </p> <ul> <li>With an asterisk <code>*</code> character replacing the name in a descriptor line, this line can be hidden in the main menu. ("#define USE_SML_SCRIPT_CMD" required)</li> </ul> <div class="admonition example"> <p class=admonition-title>Example</p> </div> <div class=codehilite><pre><span></span><code><span class=err>  1,010304ffffffff@i0:1,*,V,Voltage_L1-N,2  </span>
<span class=err>  1,010304ffffffff@i1:1,*,V,Voltage_L2-N,2  </span>
<span class=err>  1,010304ffffffff@i2:1,*,V,Voltage_L3-N,2</span>
<span class=err>  etc...</span>
</code></pre></div> <ul> <li>With an asterisk <code>*</code>character as JSON Prefix in the Meter definiton suppresses the JSON output ("#define USE_SML_SCRIPT_CMD" required)</li> </ul> <div class="admonition example"> <p class=admonition-title>Example</p> </div> <p><code>+1,14,m,0,9600,*,12,2,01040000,01040002,01040004</code></p> <ul> <li>To get the value of one of the descriptor lines, use sml[X]. X = Line number. Starts with 1. ("#define USE_SML_SCRIPT_CMD" required)</li> </ul> <div class="admonition example"> <p class=admonition-title>Example</p> </div> <div class=codehilite><pre><span></span><code><span class=err>  &gt;D</span>
<span class=err>  v1=0</span>
<span class=err>  v2=0</span>
<span class=err>  &gt;S</span>
<span class=err>  ;Writes the value of Descriptorline 1 to v1</span>
<span class=err>  v1=sml[1] </span>
<span class=err>  ;Writes the value of Descriptorline 2 to v2</span>
<span class=err>  v2=sml[2]</span>
</code></pre></div> <div class="admonition tip"> <p class=admonition-title>Tip</p> <p>Use: <code>sensor53 dM</code> to output the received data in the console. M = the number of the defined meter in the script. </p> </div> <div class="admonition note"> <p class=admonition-title>Note</p> <p>During the output of the data in the console, the data in the WEB UI are not updated. To return write: <code>sensor53 d0</code> </p> </div> <div class="admonition warning"> <p class=admonition-title>Warning</p> <p>With a few meters, it is necessary to request the meter to send its data using a specific character string. This string has to be send at a very low baudrate. (300Baud) If you reply the meter with an acknowledge and ask the it for a new baudrate of 9600 baud, the baudrate of the SML driver has to be changed, too.</p> </div> <p>To change the baudrate:</p> <blockquote> <p>sml(<code>METERNUMBER</code> 0 <code>BAUDRATE</code>) </p> </blockquote> <p>For sending a specific character string:</p> <blockquote> <p>sml(<code>METERNUMBER</code> 1 <code>STRING</code>)</p> </blockquote> <p>That works like this: </p> <div class="admonition example"> <p class=admonition-title>Example</p> <p><code>&gt;D</code><br> res=0<br> scnt=0 <br> ;For this Example in the &gt;F section<br> <code>&gt;F</code> ;count 100ms <br> scnt+=1<br> switch scnt<br> case 6<br> ;set sml driver to 300 baud and send /?! as HEX to trigger the Meter <br> res=sml(1 0 300)<br> res=sml(1 1 "2F3F210D0A")<br> ;1800ms later > Send ACK and ask for switching to 9600 baud<br> case 18<br> res=sml(1 1 "063035300D0A")<br> ;2000ms later > Switching sml driver to 9600 baud <br> case 20<br> res=sml(1 0 9600) <br> ;Restart sequence after 50x100ms <br> case 50<br> ; 5000ms later > restart sequence <br> scnt=0<br> ends </p> <blockquote> <p><code>&gt;M 1</code><br> +1,3,o,0,9600, ,1<br> ...etc. </p> </blockquote> </div> <p>You can find the example <a href=#landis-gyr-zmr120ares2r2sfcs-obis>here.</a> </p> <div class="admonition attention"> <p class=admonition-title>Attention</p> <p>This procedure is only necessary, if the meter explicitly asks for 300 baud. The most meters work directly with 9600 baud. Therefore it is easier to give this method a try: </p> </div> <div class="admonition example"> <p class=admonition-title>Example</p> </div> <p><code>Meter#,GPIO# Input,TYPE,FLAG,Baudrate,JSONNAME,GPIO# Output,TX Period,Character string</code> </p> <blockquote> <p>+ 1,3, o, 0,9600, energy, 1,4,2F3F210D0A </p> </blockquote> <p>Example: <a href=#iskra-mt-174-obis>here.</a></p> <h2 id=smart-meter-descriptors>Smart Meter Descriptors<a class=headerlink href=#smart-meter-descriptors title="Permanent link">~</a></h2> <ul> <li><a href=#janz-c3801-sml-modbus>JANZ C3801 (SML - MODBUS)</a></li> <li><a href=#emh-ed300l-sml>EMH ED300L (SML)</a></li> <li><a href=#hager-ehz363-sml>Hager EHZ363 (SML)</a></li> <li><a href=#hager-ehz161-obis>Hager EHZ161 (OBIS)</a></li> <li><a href=#landis-gyr-zmr120ares2r2sfcs-obis>Landis + Gyr ZMR120AR (OBIS)</a></li> <li><a href=#combo-meter-watergassml>COMBO Meter (Water,Gas,SML)</a></li> <li><a href=#wolf-csz-11300-heater>WOLF CSZ 11/300 Heater</a></li> <li><a href=#sdm530>SDM530 (MODBUS)</a></li> <li><a href=#sdm230>SDM230 (MODBUS)</a></li> <li><a href=#janitza-b23>Janitza B23 (MODBUS)</a></li> <li><a href=#hager-ehz363-sml-with-daily-values>Hager EHZ363 (SML) with daily values</a></li> <li><a href=#iskra-mt-174-obis>Iskra MT 174</a></li> <li><a href=#sbc-ale3-modbus>SBC ALE3 (MODBUS)</a></li> <li><a href=#2-sbc-ale3-modbus>2 * SBC ALE3 (MODBUS)</a></li> <li><a href=#trovis-557x>Trovis 557x</a></li> <li><a href=#4--hiking-dds238-2-zns3-modbus>4 * Hiking DDS238-2 ZN/S (MODBUS)</a></li> </ul> <hr> <h3 id=janz-c3801-sml-modbus>JANZ C3801 (SML - MODBUS)<a class=headerlink href=#janz-c3801-sml-modbus title="Permanent link">~</a></h3> <p>This is an example for one of the many quite similar smart meters implemented in Portugal, by <code>EDP Distribuição S.A.</code>. May be valid for many more models, as stated.</p> <p>You should configure your <code>user_config_override.h</code> as:</p> <div class=codehilite><pre><span></span><code><span class=cp>#ifndef USE_SCRIPT</span>
<span class=cp>#define USE_SCRIPT</span>
<span class=cp>#endif</span>
<span class=cp>#ifndef USE_SML_M</span>
<span class=cp>#define USE_SML_M</span>
<span class=cp>#endif</span>
<span class=cp>#ifdef USE_RULES</span>
<span class=cp>#undef USE_RULES</span>
<span class=cp>#endif</span>

<span class=cp>#define SML_MAX_VARS 10</span>
</code></pre></div> <p>Your Tasmota SML <code>script</code>:</p> <div class=codehilite><pre><span></span><code><span class=o>&gt;</span><span class=n>D</span><span class=w></span>

<span class=o>&gt;</span><span class=n>B</span><span class=w></span>
<span class=o>=&gt;</span><span class=n>sensor53</span><span class=w> </span><span class=n>r</span><span class=w></span>

<span class=o>&gt;</span><span class=n>M</span><span class=w> </span><span class=mi>1</span><span class=w></span>

<span class=o>+</span><span class=mi>1</span><span class=p>,</span><span class=mi>14</span><span class=p>,</span><span class=n>m</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>9600</span><span class=p>,</span><span class=n>EB</span><span class=p>,</span><span class=mi>5</span><span class=p>,</span><span class=mi>50</span><span class=p>,</span><span class=mi>0104006</span><span class=n>C</span><span class=p>,</span><span class=mi>01040079</span><span class=p>,</span><span class=mi>0104007</span><span class=n>A</span><span class=p>,</span><span class=mi>0104007</span><span class=n>F</span><span class=p>,</span><span class=mi>01040026</span><span class=p>,</span><span class=mi>01040027</span><span class=p>,</span><span class=mi>01040028</span><span class=p>,</span><span class=mi>0104000</span><span class=n>B</span><span class=p>,</span><span class=mi>01040084</span><span class=w></span>

<span class=mi>1</span><span class=p>,</span><span class=o>=</span><span class=n>hVALORES</span><span class=w> </span><span class=n>TÉCNICOS</span><span class=w></span>
<span class=mi>1</span><span class=p>,</span><span class=mi>010404</span><span class=n>UUuuxxxx</span><span class=nv>@i0</span><span class=err>:</span><span class=mi>10</span><span class=p>,</span><span class=n>Tensão</span><span class=p>,</span><span class=n>V</span><span class=p>,</span><span class=n>Voltage_P1</span><span class=p>,</span><span class=mi>17</span><span class=w></span>
<span class=mi>1</span><span class=p>,</span><span class=mi>010404</span><span class=n>xxxxUUuu</span><span class=nv>@i0</span><span class=err>:</span><span class=mi>10</span><span class=p>,</span><span class=n>Corrente</span><span class=p>,</span><span class=n>A</span><span class=p>,</span><span class=n>Current_P1</span><span class=p>,</span><span class=mi>17</span><span class=w></span>
<span class=mi>1</span><span class=p>,</span><span class=mi>010408</span><span class=n>UUuuUUuuxxxxxxxxxxxx</span><span class=nv>@i1</span><span class=err>:</span><span class=mi>1</span><span class=p>,</span><span class=n>Potência</span><span class=w> </span><span class=n>ativa</span><span class=p>,</span><span class=n>W</span><span class=p>,</span><span class=n>Power_P1</span><span class=p>,</span><span class=mi>16</span><span class=w></span>
<span class=mi>1</span><span class=p>,</span><span class=mi>010406</span><span class=n>xxxxxxxxUUuu</span><span class=nv>@i2</span><span class=err>:</span><span class=mi>1000</span><span class=p>,</span><span class=n>Fator</span><span class=w> </span><span class=n>de</span><span class=w> </span><span class=n>potência</span><span class=p>,</span><span class=n>pu</span><span class=p>,</span><span class=n>PFactor_P1</span><span class=p>,</span><span class=mi>19</span><span class=w></span>
<span class=mi>1</span><span class=p>,</span><span class=mi>01040</span><span class=n>aUUuuxxxx</span><span class=nv>@i3</span><span class=err>:</span><span class=mi>10</span><span class=p>,</span><span class=n>Frequência</span><span class=p>,</span><span class=n>Hz</span><span class=p>,</span><span class=n>Frequency_P1</span><span class=p>,</span><span class=mi>17</span><span class=w></span>
<span class=mi>1</span><span class=p>,</span><span class=o>=</span><span class=n>h</span><span class=o>&amp;</span><span class=n>#8205</span><span class=p>;</span><span class=w></span>
<span class=mi>1</span><span class=p>,</span><span class=o>=</span><span class=n>hTOTALIZADORES</span><span class=w> </span><span class=n>DE</span><span class=w> </span><span class=n>ENERGIA</span><span class=w></span>
<span class=mi>1</span><span class=p>,</span><span class=mi>010408</span><span class=n>UUuuUUuuxxxxxxxxxxxx</span><span class=nv>@i4</span><span class=err>:</span><span class=mi>1000</span><span class=p>,</span><span class=n>Vazio</span><span class=w> </span><span class=p>(</span><span class=mi>1</span><span class=p>),</span><span class=n>kWh</span><span class=p>,</span><span class=n>Energy_P1_R1</span><span class=p>,</span><span class=mi>17</span><span class=w></span>
<span class=mi>1</span><span class=p>,</span><span class=mi>010408</span><span class=n>UUuuUUuuxxxxxxxxxxxx</span><span class=nv>@i5</span><span class=err>:</span><span class=mi>1000</span><span class=p>,</span><span class=n>Ponta</span><span class=w> </span><span class=p>(</span><span class=mi>2</span><span class=p>),</span><span class=n>kWh</span><span class=p>,</span><span class=n>Energy_P1_R2</span><span class=p>,</span><span class=mi>17</span><span class=w></span>
<span class=mi>1</span><span class=p>,</span><span class=mi>010408</span><span class=n>UUuuUUuuxxxxxxxxxxxx</span><span class=nv>@i6</span><span class=err>:</span><span class=mi>1000</span><span class=p>,</span><span class=n>Cheia</span><span class=w> </span><span class=p>(</span><span class=mi>3</span><span class=p>),</span><span class=n>kWh</span><span class=p>,</span><span class=n>Energy_P1_R3</span><span class=p>,</span><span class=mi>17</span><span class=w></span>
<span class=mi>1</span><span class=p>,</span><span class=o>=</span><span class=n>h</span><span class=o>&amp;</span><span class=n>#8205</span><span class=p>;</span><span class=w></span>
<span class=mi>1</span><span class=p>,</span><span class=o>=</span><span class=n>hESTADOS</span><span class=w></span>
<span class=mi>1</span><span class=p>,</span><span class=mi>010406</span><span class=n>uuxxxxxxxx</span><span class=nv>@i7</span><span class=err>:</span><span class=mi>1</span><span class=p>,</span><span class=n>Tarifa</span><span class=p>,,</span><span class=n>Tariff_P1</span><span class=p>,</span><span class=mi>16</span><span class=w></span>
<span class=mi>1</span><span class=p>,</span><span class=mi>010406</span><span class=n>uuxxxxxxxx</span><span class=nv>@i8</span><span class=err>:</span><span class=mi>1</span><span class=p>,</span><span class=n>DCP</span><span class=p>,,</span><span class=n>DCP_P1</span><span class=p>,</span><span class=mi>16</span><span class=w></span>

<span class=err>#</span><span class=w></span>
</code></pre></div> <h3 id=emh-ed300l-sml>EMH ED300L (SML)<a class=headerlink href=#emh-ed300l-sml title="Permanent link">~</a></h3> <div class=codehilite><pre><span></span><code><span class=o>&gt;</span><span class=n>D</span>    
<span class=o>&gt;</span><span class=n>B</span>   
<span class=o>-&gt;</span><span class=n>sensor53</span> <span class=n>r</span>  
<span class=o>&gt;</span><span class=n>M</span> <span class=mi>2</span>  
<span class=o>+</span><span class=mi>1</span><span class=p>,</span><span class=mi>13</span><span class=p>,</span><span class=n>s</span><span class=p>,</span><span class=mi>0</span><span class=p>,</span><span class=mi>9600</span><span class=p>,</span><span class=n>Haus</span>  
<span class=o>+</span><span class=mi>2</span><span class=p>,</span><span class=mi>12</span><span class=p>,</span><span class=n>s</span><span class=p>,</span><span class=mi>0</span><span class=p>,</span><span class=mi>9600</span><span class=p>,</span><span class=n>Heizung</span>  
<span class=mi>1</span><span class=p>,</span><span class=mf>770701000F0700F</span><span class=n>F</span><span class=mi>@1</span><span class=p>,</span><span class=n>Aktuell</span><span class=p>,</span><span class=n>W</span><span class=p>,</span><span class=n>Power_curr</span><span class=p>,</span><span class=mi>0</span>  
<span class=mi>1</span><span class=p>,</span><span class=mf>77070100010800F</span><span class=n>F</span><span class=mi>@1000</span><span class=p>,</span><span class=n>Zählerstand</span> <span class=n>Verb</span><span class=p>.,</span><span class=n>kWh</span><span class=p>,</span><span class=n>Tariflos</span><span class=p>,</span><span class=mi>2</span>  
<span class=mi>1</span><span class=p>,</span><span class=mf>77070100020800F</span><span class=n>F</span><span class=mi>@1000</span><span class=p>,</span><span class=n>Zählerstand</span> <span class=n>Einsp</span><span class=p>.,</span><span class=n>kWh</span><span class=p>,</span><span class=n>Tariflos</span><span class=p>,</span><span class=mi>2</span>  
<span class=mi>2</span><span class=p>,</span><span class=o>=</span><span class=n>h</span><span class=o>==================</span>  
<span class=mi>2</span><span class=p>,</span><span class=mf>770701000F0700F</span><span class=n>F</span><span class=mi>@1</span><span class=p>,</span><span class=n>Aktuell</span><span class=p>,</span><span class=n>W</span><span class=p>,</span><span class=n>Power_curr</span><span class=p>,</span><span class=mi>0</span>  
<span class=mi>2</span><span class=p>,</span><span class=mf>77070100010800F</span><span class=n>F</span><span class=mi>@1000</span><span class=p>,</span><span class=n>Zählerstand</span> <span class=n>Verb</span><span class=p>.,</span><span class=n>kWh</span><span class=p>,</span><span class=n>Tariflos</span><span class=p>,</span><span class=mi>2</span>  
<span class=mi>2</span><span class=p>,</span><span class=mf>77070100020800F</span><span class=n>F</span><span class=mi>@1000</span><span class=p>,</span><span class=n>Zählerstand</span> <span class=n>Einsp</span><span class=p>.,</span><span class=n>kWh</span><span class=p>,</span><span class=n>Tariflos</span><span class=p>,</span><span class=mi>2</span>  
<span class=cp>#    </span>
</code></pre></div> <hr> <h3 id=hager-ehz363-sml>Hager EHZ363 (SML)<a class=headerlink href=#hager-ehz363-sml title="Permanent link">~</a></h3> <div class=codehilite><pre><span></span><code><span class=o>&gt;</span><span class=n>D</span>  

<span class=o>&gt;</span><span class=n>B</span>  
<span class=o>-&gt;</span><span class=n>sensor53</span> <span class=n>r</span>

<span class=o>&gt;</span><span class=n>M</span> <span class=mi>1</span>  
<span class=o>+</span><span class=mi>1</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=n>s</span><span class=p>,</span><span class=mi>0</span><span class=p>,</span><span class=mi>9600</span><span class=p>,</span><span class=n>SML</span>  
<span class=mi>1</span><span class=p>,</span><span class=mf>77070100010800f</span><span class=n>f</span><span class=mi>@1000</span><span class=p>,</span><span class=n>Total</span> <span class=n>consumption</span><span class=p>,</span><span class=n>KWh</span><span class=p>,</span><span class=n>Total_in</span><span class=p>,</span><span class=mi>4</span>  
<span class=mi>1</span><span class=p>,</span><span class=mf>77070100020800f</span><span class=n>f</span><span class=mi>@1000</span><span class=p>,</span><span class=n>Total</span> <span class=n>Feed</span><span class=p>,</span><span class=n>KWh</span><span class=p>,</span><span class=n>Total_out</span><span class=p>,</span><span class=mi>4</span>  
<span class=mi>1</span><span class=p>,</span><span class=mf>77070100100700f</span><span class=n>f</span><span class=mi>@1</span><span class=p>,</span><span class=n>Current</span> <span class=n>consumption</span><span class=p>,</span><span class=n>W</span><span class=p>,</span><span class=n>Power_curr</span><span class=p>,</span><span class=mi>0</span>  
<span class=mi>1</span><span class=p>,</span><span class=mf>77070100000009f</span><span class=n>f</span><span class=p>@</span><span class=err>#</span><span class=p>,</span><span class=n>Meter</span> <span class=n>Nr</span><span class=p>,,</span><span class=n>Meter_number</span><span class=p>,</span><span class=mi>0</span>  
<span class=cp>#  </span>
</code></pre></div> <hr> <h3 id=hager-ehz161-obis>Hager EHZ161 (OBIS)<a class=headerlink href=#hager-ehz161-obis title="Permanent link">~</a></h3> <div class=codehilite><pre><span></span><code><span class=o>&gt;</span><span class=n>D</span>  
<span class=o>&gt;</span><span class=n>B</span>  
<span class=o>-&gt;</span><span class=n>sensor53</span> <span class=n>r</span>
<span class=o>&gt;</span><span class=n>M</span> <span class=mi>1</span>  
<span class=o>+</span><span class=mi>1</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=n>o</span><span class=p>,</span><span class=mi>0</span><span class=p>,</span><span class=mi>9600</span><span class=p>,</span><span class=n>OBIS</span>  
<span class=mi>1</span><span class=p>,</span><span class=mi>1-0</span><span class=o>:</span><span class=mf>1.8.1</span><span class=err>\</span><span class=o>*</span><span class=mi>255</span><span class=p>(</span><span class=mi>@1</span><span class=p>,</span><span class=n>Total</span> <span class=n>consumption</span><span class=p>,</span><span class=n>KWh</span><span class=p>,</span><span class=n>Total_in</span><span class=p>,</span><span class=mi>4</span>  
<span class=mi>1</span><span class=p>,</span><span class=mi>1-0</span><span class=o>:</span><span class=mf>2.8.1</span><span class=err>\</span><span class=o>*</span><span class=mi>255</span><span class=p>(</span><span class=mi>@1</span><span class=p>,</span><span class=n>Total</span> <span class=n>Feed</span><span class=p>,</span><span class=n>KWh</span><span class=p>,</span><span class=n>Total_out</span><span class=p>,</span><span class=mi>4</span>  
<span class=mi>1</span><span class=p>,</span><span class=o>=</span><span class=n>d</span> <span class=mi>2</span> <span class=mi>10</span> <span class=mi>@1</span><span class=p>,</span><span class=n>Current</span> <span class=n>consumption</span><span class=p>,</span><span class=n>W</span><span class=p>,</span><span class=n>Power_curr</span><span class=p>,</span><span class=mi>0</span>  
<span class=mi>1</span><span class=p>,</span><span class=mi>1-0</span><span class=o>:</span><span class=mf>0.0.0</span><span class=err>\</span><span class=o>*</span><span class=mi>255</span><span class=p>(@</span><span class=err>#</span><span class=p>),</span><span class=n>Meter</span> <span class=n>Nr</span><span class=p>,,</span> <span class=n>Meter_number</span><span class=p>,</span><span class=mi>0</span>  
<span class=cp>#  </span>
</code></pre></div> <hr> <h3 id=landis-gyr-zmr120ares2r2sfcs-obis>Landis + Gyr ZMR120AReS2R2sfCS (OBIS)<a class=headerlink href=#landis-gyr-zmr120ares2r2sfcs-obis title="Permanent link">~</a></h3> <p>Example: Changing the baud rate during operation.</p> <div class=codehilite><pre><span></span><code><span class=o>&gt;</span><span class=n>D</span>  
<span class=p>;</span><span class=n>Var</span> <span class=n>Power</span> <span class=n>consumption</span> <span class=n>total</span> <span class=n>HT</span><span class=o>+</span><span class=n>NT</span>  
<span class=n>v1</span><span class=o>=</span><span class=mi>0</span>  
<span class=p>;</span><span class=n>HT</span> <span class=n>Main</span> <span class=n>electricity</span> <span class=n>tariff</span> <span class=n>consumption</span> <span class=n>total</span>   
<span class=n>v2</span><span class=o>=</span><span class=mi>0</span>  
<span class=p>;</span><span class=n>NT</span> <span class=n>Night</span> <span class=n>electricity</span> <span class=n>tariff</span> <span class=n>consumption</span> <span class=n>total</span>  
<span class=n>v3</span><span class=o>=</span><span class=mi>0</span>  
<span class=p>;</span> <span class=n>Energie</span> <span class=n>L1</span><span class=o>+</span><span class=n>L2</span><span class=o>+</span><span class=n>L3</span>  
<span class=n>v4</span><span class=o>=</span><span class=mi>0</span>  
<span class=p>;</span><span class=n>recent</span> <span class=n>Energie</span> <span class=n>L1</span>  
<span class=n>v5</span><span class=o>=</span><span class=mi>0</span>  
<span class=p>;</span><span class=n>recent</span> <span class=n>Energie</span> <span class=n>L2</span>  
<span class=n>v6</span><span class=o>=</span><span class=mi>0</span>  
<span class=p>;</span><span class=n>recent</span> <span class=n>Energie</span> <span class=n>L3</span>  
<span class=n>v7</span><span class=o>=</span><span class=mi>0</span>  

<span class=p>;</span><span class=n>Var</span> <span class=n>minute</span>   
<span class=n>min</span><span class=o>=</span><span class=mi>0</span>  
<span class=p>;</span><span class=n>Var</span> <span class=n>hour</span>  
<span class=n>hr</span><span class=o>=</span><span class=mi>0</span>  
<span class=p>;</span><span class=n>Var</span> <span class=n>begin</span> <span class=n>of</span> <span class=n>the</span> <span class=n>month</span> <span class=mf>01.</span><span class=n>xx</span><span class=mf>.20</span><span class=n>xx</span> <span class=mi>0</span><span class=o>:</span><span class=mo>00</span> <span class=n>Uhr</span>  
<span class=n>md</span><span class=o>=</span><span class=mi>0</span>  
<span class=p>;</span><span class=n>Var</span> <span class=n>begin</span> <span class=n>of</span> <span class=n>the</span> <span class=n>year</span> <span class=mf>01.01</span><span class=p>.</span> <span class=mi>0</span><span class=o>:</span><span class=mo>00</span> <span class=n>Uhr</span>  
<span class=n>yr</span><span class=o>=</span><span class=mi>0</span>  
<span class=p>;</span><span class=n>Var</span> <span class=k>for</span> <span class=n>counter</span> <span class=n>see</span> <span class=o>&gt;</span><span class=n>F</span><span class=o>=</span><span class=n>ms</span>  
<span class=n>scnt</span><span class=o>=</span><span class=mi>0</span>  
<span class=p>;</span><span class=n>Var</span> <span class=k>for</span> <span class=n>baudrate</span> <span class=n>changeing</span> 
<span class=n>res</span><span class=o>=</span><span class=mi>0</span>  

<span class=p>;</span><span class=n>Permanent</span> <span class=n>Var</span> <span class=n>Meter1</span> <span class=mi>0</span><span class=o>:</span><span class=mo>00</span>   
<span class=nl>p</span><span class=p>:</span><span class=n>sm</span><span class=o>=</span><span class=mi>0</span>  
<span class=nl>p</span><span class=p>:</span><span class=n>HT_sm</span><span class=o>=</span><span class=mi>0</span>  
<span class=nl>p</span><span class=p>:</span><span class=n>NT_sm</span><span class=o>=</span><span class=mi>0</span>  
<span class=p>;</span><span class=n>Var</span> <span class=k>for</span> <span class=n>daily</span> <span class=o>=</span><span class=mi>0</span>  
<span class=n>sd</span><span class=o>=</span><span class=mi>0</span>  
<span class=n>HT_sd</span><span class=o>=</span><span class=mi>0</span>  
<span class=n>NT_sd</span><span class=o>=</span><span class=mi>0</span>  
<span class=p>;</span><span class=n>Permanent</span> <span class=n>Var</span> <span class=k>for</span> <span class=n>month</span> <span class=n>begin</span>  
<span class=nl>p</span><span class=p>:</span><span class=n>sma</span><span class=o>=</span><span class=mi>0</span>  
<span class=nl>p</span><span class=p>:</span><span class=n>HT_sma</span><span class=o>=</span><span class=mi>0</span>  
<span class=nl>p</span><span class=p>:</span><span class=n>NT_sma</span><span class=o>=</span><span class=mi>0</span>  
<span class=p>;</span><span class=n>Var</span> <span class=k>for</span> <span class=n>monthly</span> <span class=o>=</span><span class=mi>0</span>  
<span class=n>smn</span><span class=o>=</span><span class=mi>0</span>  
<span class=n>HT_smn</span><span class=o>=</span><span class=mi>0</span>  
<span class=n>NT_smn</span><span class=o>=</span><span class=mi>0</span>  
<span class=p>;</span><span class=n>Permanent</span> <span class=n>Var</span> <span class=k>for</span> <span class=n>year</span> <span class=n>begin</span>  
<span class=nl>p</span><span class=p>:</span><span class=n>sya</span><span class=o>=</span><span class=mi>0</span>  
<span class=nl>p</span><span class=p>:</span><span class=n>HT_sya</span><span class=o>=</span><span class=mi>0</span>  
<span class=nl>p</span><span class=p>:</span><span class=n>NT_sya</span><span class=o>=</span><span class=mi>0</span>  
<span class=p>;</span><span class=n>Var</span> <span class=k>for</span> <span class=n>yearly</span> <span class=o>=</span><span class=mi>0</span>  
<span class=n>syn</span><span class=o>=</span><span class=mi>0</span>  
<span class=n>HT_syn</span><span class=o>=</span><span class=mi>0</span>  
<span class=n>NT_syn</span><span class=o>=</span><span class=mi>0</span>  

<span class=p>;</span><span class=n>Fill</span> <span class=n>vars</span> <span class=n>with</span> <span class=n>content</span> <span class=n>on</span> <span class=n>teleperiod</span>    
<span class=o>&gt;</span><span class=n>T</span>  
<span class=n>v1</span><span class=o>=</span><span class=err>#</span><span class=n>Total_in</span>  
<span class=n>v2</span><span class=o>=</span><span class=err>#</span><span class=n>HT_Total_in</span>  
<span class=n>v3</span><span class=o>=</span><span class=err>#</span><span class=n>NT_Total_in</span>  
<span class=n>v4</span><span class=o>=</span><span class=err>#</span><span class=n>kW_L1</span><span class=o>+</span><span class=n>L2</span><span class=o>+</span><span class=n>L3</span>  
<span class=n>v5</span><span class=o>=</span><span class=err>#</span><span class=n>kw_L1</span>  
<span class=n>v6</span><span class=o>=</span><span class=err>#</span><span class=n>kw_L2</span>  
<span class=n>v7</span><span class=o>=</span><span class=err>#</span><span class=n>kw_L3</span>  

<span class=o>&gt;</span><span class=n>B</span>  
<span class=p>;</span><span class=n>Restart</span> <span class=n>driver</span>  
<span class=o>-&gt;</span><span class=n>sensor53</span> <span class=n>r</span>  
<span class=p>;</span><span class=n>Set</span> <span class=n>teleperiod</span> <span class=n>to</span> <span class=mi>20</span><span class=n>sec</span>  
<span class=n>tper</span><span class=o>=</span><span class=mi>20</span>  

<span class=o>&gt;</span><span class=n>F</span>  
<span class=p>;</span> <span class=n>count</span> <span class=mi>100</span><span class=n>ms</span>   
<span class=n>scnt</span><span class=o>+=</span><span class=mi>1</span>  
<span class=k>switch</span> <span class=n>scnt</span>  
<span class=k>case</span> <span class=mi>6</span>  
<span class=p>;</span><span class=n>set</span> <span class=n>sml</span> <span class=n>driver</span> <span class=n>to</span> <span class=mi>300</span> <span class=n>baud</span> <span class=n>and</span> <span class=n>send</span> <span class=o>/?!</span> <span class=n>as</span> <span class=n>HEX</span> <span class=n>to</span> <span class=n>trigger</span> <span class=n>the</span> <span class=n>Meter</span>   
<span class=n>res</span><span class=o>=</span><span class=n>sml</span><span class=p>(</span><span class=mi>1</span> <span class=mi>0</span> <span class=mi>300</span><span class=p>)</span>  
<span class=n>res</span><span class=o>=</span><span class=n>sml</span><span class=p>(</span><span class=mi>1</span> <span class=mi>1</span> <span class=s>&quot;2F3F210D0A&quot;</span><span class=p>)</span>  

<span class=p>;</span><span class=mi>1800</span><span class=n>ms</span> <span class=n>later</span> <span class=err>\</span><span class=o>&gt;</span> <span class=n>Ack</span> <span class=n>and</span> <span class=n>ask</span> <span class=k>for</span> <span class=n>switching</span> <span class=n>to</span> <span class=mi>9600</span> <span class=n>baud</span>  
<span class=k>case</span> <span class=mi>18</span>  
<span class=n>res</span><span class=o>=</span><span class=n>sml</span><span class=p>(</span><span class=mi>1</span> <span class=mi>1</span> <span class=s>&quot;063035300D0A&quot;</span><span class=p>)</span>  

<span class=p>;</span><span class=mi>2000</span><span class=n>ms</span> <span class=n>later</span> <span class=err>\</span><span class=o>&gt;</span> <span class=n>Switching</span> <span class=n>sml</span> <span class=n>driver</span> <span class=n>to</span> <span class=mi>9600</span> <span class=n>baud</span>    
<span class=k>case</span> <span class=mi>20</span>  
<span class=n>res</span><span class=o>=</span><span class=n>sml</span><span class=p>(</span><span class=mi>1</span> <span class=mi>0</span> <span class=mi>9600</span><span class=p>)</span>  

<span class=p>;</span><span class=n>Restart</span> <span class=n>sequence</span> <span class=n>after</span> <span class=mi>50</span><span class=n>x100ms</span>    
<span class=k>case</span> <span class=mi>50</span>  
<span class=p>;</span> <span class=mi>5000</span><span class=n>ms</span> <span class=n>later</span> <span class=err>\</span><span class=o>&gt;</span> <span class=n>restart</span> <span class=n>sequence</span>    
<span class=n>scnt</span><span class=o>=</span><span class=mi>0</span>  
<span class=n>ends</span>  

<span class=o>&gt;</span><span class=n>S</span>  
<span class=p>;</span><span class=n>daily</span> <span class=n>usage</span>  
<span class=n>hr</span><span class=o>=</span><span class=n>hours</span>  
<span class=k>if</span> <span class=n>chg</span><span class=p>[</span><span class=n>hr</span><span class=p>]</span><span class=o>&gt;</span><span class=mi>0</span>  
<span class=n>and</span> <span class=n>hr</span><span class=o>==</span><span class=mi>0</span>  
<span class=n>and</span> <span class=n>v1</span><span class=o>&gt;</span><span class=mi>0</span>  
<span class=n>then</span>  
<span class=n>sm</span><span class=o>=</span><span class=n>v1</span>  
<span class=n>HT_sm</span><span class=o>=</span><span class=n>v2</span>  
<span class=n>NT_sm</span><span class=o>=</span><span class=n>v3</span>  
<span class=n>svars</span>  
<span class=n>endif</span>  

<span class=k>if</span> <span class=n>upsecs</span><span class=o>%</span><span class=n>tper</span><span class=o>==</span><span class=mi>0</span><span class=p>{</span>  
<span class=n>sd</span><span class=o>=</span><span class=n>v1</span><span class=o>-</span><span class=n>sm</span>  
<span class=n>HT_sd</span><span class=o>=</span><span class=n>v2</span><span class=o>-</span><span class=n>HT_sm</span>  
<span class=n>NT_sd</span><span class=o>=</span><span class=n>v3</span><span class=o>-</span><span class=n>NT_sm</span>  
<span class=p>}</span>  

<span class=p>;</span><span class=n>Monthly</span> <span class=n>usage</span>  
<span class=n>md</span><span class=o>=</span><span class=n>day</span>  
<span class=k>if</span> <span class=n>chg</span><span class=p>[</span><span class=n>md</span><span class=p>]</span><span class=o>&gt;</span><span class=mi>0</span>  
<span class=n>and</span> <span class=n>md</span><span class=o>==</span><span class=mi>1</span>  
<span class=n>and</span> <span class=n>v1</span><span class=o>&gt;</span><span class=mi>0</span>  
<span class=n>then</span>  
<span class=n>sma</span><span class=o>=</span><span class=n>v1</span>  
<span class=n>HT_sma</span><span class=o>=</span><span class=n>v2</span>  
<span class=n>NT_sma</span><span class=o>=</span><span class=n>v3</span>  
<span class=n>svars</span>  
<span class=n>endif</span>  

<span class=k>if</span> <span class=n>upsecs</span><span class=o>%</span><span class=n>tper</span><span class=o>==</span><span class=mi>0</span><span class=p>{</span>  
<span class=n>smn</span><span class=o>=</span><span class=n>v1</span><span class=o>-</span><span class=n>sma</span>  
<span class=n>HT_smn</span><span class=o>=</span><span class=n>v2</span><span class=o>-</span><span class=n>HT_sma</span>  
<span class=n>NT_smn</span><span class=o>=</span><span class=n>v3</span><span class=o>-</span><span class=n>NT_sma</span>  
<span class=p>}</span>  

<span class=p>;</span><span class=n>Yearly</span> <span class=n>usage</span>  
<span class=n>yr</span><span class=o>=</span><span class=n>year</span>  
<span class=k>if</span> <span class=n>chg</span><span class=p>[</span><span class=n>yr</span><span class=p>]</span><span class=o>&gt;</span><span class=mi>0</span>  
<span class=n>and</span> <span class=n>v1</span><span class=o>&gt;</span><span class=mi>0</span>  
<span class=n>then</span>  
<span class=n>sya</span><span class=o>=</span><span class=n>v1</span>  
<span class=n>HT_sya</span><span class=o>=</span><span class=n>v2</span>  
<span class=n>NT_sya</span><span class=o>=</span><span class=n>v3</span>  
<span class=n>svars</span>  
<span class=n>endif</span>  

<span class=k>if</span> <span class=n>upsecs</span><span class=o>%</span><span class=n>tper</span><span class=o>==</span><span class=mi>0</span><span class=p>{</span>  
<span class=n>syn</span><span class=o>=</span><span class=n>v1</span><span class=o>-</span><span class=n>sya</span>  
<span class=n>HT_syn</span><span class=o>=</span><span class=n>v2</span><span class=o>-</span><span class=n>HT_sya</span>  
<span class=n>NT_syn</span><span class=o>=</span><span class=n>v3</span><span class=o>-</span><span class=n>NT_sya</span>  

<span class=p>;</span> <span class=n>Json</span> <span class=n>payload</span> <span class=err>\</span><span class=o>&gt;</span> <span class=n>send</span> <span class=n>on</span> <span class=n>teleperiod</span>  
<span class=o>&gt;</span><span class=n>J</span>  
<span class=p>,</span><span class=s>&quot;Strom_Vb_Tag&quot;</span><span class=o>:%</span><span class=mi>3</span><span class=n>sd</span><span class=o>%</span>  
<span class=p>,</span><span class=s>&quot;HT_Strom_Vb_Tag&quot;</span><span class=o>:%</span><span class=mi>3</span><span class=n>HT_sd</span><span class=o>%</span>  
<span class=p>,</span><span class=s>&quot;NT_Strom_Vb_Tag&quot;</span><span class=o>:%</span><span class=mi>3</span><span class=n>NT_sd</span><span class=o>%</span>  
<span class=p>,</span><span class=s>&quot;Strom_Vb_M&quot;</span><span class=o>:%</span><span class=mi>1</span><span class=n>smn</span><span class=o>%</span>  
<span class=p>,</span><span class=s>&quot;HT_Strom_Vb_M&quot;</span><span class=o>:%</span><span class=mi>1</span><span class=n>HT_smn</span><span class=o>%</span>  
<span class=p>,</span><span class=s>&quot;NT_Strom_Vb_M&quot;</span><span class=o>:%</span><span class=mi>1</span><span class=n>NT_smn</span><span class=o>%</span>  
<span class=p>,</span><span class=s>&quot;Strom_Vb_Jahr&quot;</span><span class=o>:%</span><span class=mi>0</span><span class=n>syn</span><span class=o>%</span>  
<span class=p>,</span><span class=s>&quot;HT_Strom_Vb_Jahr&quot;</span><span class=o>:%</span><span class=mi>0</span><span class=n>HT_syn</span><span class=o>%</span>  
<span class=p>,</span><span class=s>&quot;NT_Strom_Vb_Jahr&quot;</span><span class=o>:%</span><span class=mi>0</span><span class=n>NT_syn</span><span class=o>%</span>  
<span class=p>,</span><span class=s>&quot;Strom_0:00 _Uhr&quot;</span><span class=o>:%</span><span class=mi>1</span><span class=n>sm</span><span class=o>%</span>  
<span class=p>,</span><span class=s>&quot;HT_Strom_0:00 _Uhr&quot;</span><span class=o>:%</span><span class=mi>1</span><span class=n>HT_sm</span><span class=o>%</span>  
<span class=p>,</span><span class=s>&quot;NT_Strom_0:00 _Uhr&quot;</span><span class=o>:%</span><span class=mi>1</span><span class=n>NT_sm</span><span class=o>%</span>  
<span class=p>,</span><span class=s>&quot;Strom_Ma&quot;</span><span class=o>:%</span><span class=mi>3</span><span class=n>sma</span><span class=o>%</span>  
<span class=p>,</span><span class=s>&quot;HT_Strom_Ma&quot;</span><span class=o>:%</span><span class=mi>3</span><span class=n>HT_sma</span><span class=o>%</span>  
<span class=p>,</span><span class=s>&quot;NT_Strom_Ma&quot;</span><span class=o>:%</span><span class=mi>3</span><span class=n>NT_sma</span><span class=o>%</span>  
<span class=p>,</span><span class=s>&quot;Strom_Ja&quot;</span><span class=o>:%</span><span class=mi>3</span><span class=n>sya</span><span class=o>%</span>  
<span class=p>,</span><span class=s>&quot;HT_Strom_Ja&quot;</span><span class=o>:%</span><span class=mi>3</span><span class=n>HT_sya</span><span class=o>%</span>  
<span class=p>,</span><span class=s>&quot;NT_Strom_Ja&quot;</span><span class=o>:%</span><span class=mi>3</span><span class=n>NT_sya</span><span class=o>%</span>  

<span class=p>;</span><span class=n>Webdisplay</span> <span class=n>stuff</span>  
<span class=o>&gt;</span><span class=n>W</span>  
<span class=o>----------------------</span>  
<span class=mi>0</span><span class=o>:</span><span class=mo>00</span> <span class=n>Uhr</span> <span class=err>Σ</span> <span class=n>HT</span><span class=o>+</span><span class=nl>NT</span><span class=p>:</span> <span class=p>{</span><span class=n>m</span><span class=p>}</span> <span class=o>%</span><span class=mi>0</span><span class=n>sm</span><span class=o>%</span> <span class=n>KWh</span>  
<span class=nl>HT</span><span class=p>:</span> <span class=p>{</span><span class=n>m</span><span class=p>}</span> <span class=o>%</span><span class=mi>0</span><span class=n>HT_sm</span><span class=o>%</span> <span class=n>KWh</span>  
<span class=nl>NT</span><span class=p>:</span> <span class=p>{</span><span class=n>m</span><span class=p>}</span> <span class=o>%</span><span class=mi>0</span><span class=n>NT_sm</span><span class=o>%</span> <span class=n>KWh</span>  
<span class=o>----------------------</span>  
<span class=nl>Monatsanfang</span><span class=p>:</span> <span class=p>{</span><span class=n>m</span><span class=p>}</span> <span class=o>%</span><span class=mi>1</span><span class=n>sma</span><span class=o>%</span> <span class=n>KWh</span>  
<span class=nl>HT</span><span class=p>:</span> <span class=p>{</span><span class=n>m</span><span class=p>}</span> <span class=o>%</span><span class=mi>1</span><span class=n>HT_sma</span><span class=o>%</span> <span class=n>KWh</span>  
<span class=nl>NT</span><span class=p>:</span> <span class=p>{</span><span class=n>m</span><span class=p>}</span> <span class=o>%</span><span class=mi>1</span><span class=n>NT_sma</span><span class=o>%</span> <span class=n>KWh</span>  
<span class=o>----------------------</span>  
<span class=nl>Jahresanfang</span><span class=p>:</span> <span class=p>{</span><span class=n>m</span><span class=p>}</span> <span class=o>%</span><span class=mi>0</span><span class=n>sya</span><span class=o>%</span> <span class=n>KWh</span>  
<span class=nl>HT</span><span class=p>:</span> <span class=p>{</span><span class=n>m</span><span class=p>}</span> <span class=o>%</span><span class=mi>0</span><span class=n>HT_sya</span><span class=o>%</span> <span class=n>KWh</span>  
<span class=nl>NT</span><span class=p>:</span> <span class=p>{</span><span class=n>m</span><span class=p>}</span> <span class=o>%</span><span class=mi>0</span><span class=n>NT_sya</span><span class=o>%</span> <span class=n>KWh</span>  
<span class=p>.............................</span>  
<span class=nl>Tagesverbrauch</span><span class=p>:</span> <span class=p>{</span><span class=n>m</span><span class=p>}</span> <span class=o>%</span><span class=mi>1</span><span class=n>sd</span><span class=o>%</span> <span class=n>KWh</span>  
<span class=nl>HT</span><span class=p>:</span> <span class=p>{</span><span class=n>m</span><span class=p>}</span> <span class=o>%</span><span class=mi>1</span><span class=n>HT_sd</span><span class=o>%</span> <span class=n>KWh</span>  
<span class=nl>NT</span><span class=p>:</span> <span class=p>{</span><span class=n>m</span><span class=p>}</span> <span class=o>%</span><span class=mi>1</span><span class=n>NT_sd</span><span class=o>%</span> <span class=n>KWh</span>  
<span class=o>----------------------</span>  
<span class=nl>Monatsverbrauch</span><span class=p>:</span> <span class=p>{</span><span class=n>m</span><span class=p>}</span> <span class=o>%</span><span class=mi>0</span><span class=n>smn</span><span class=o>%</span> <span class=n>KWh</span>  
<span class=nl>HT</span><span class=p>:</span> <span class=p>{</span><span class=n>m</span><span class=p>}</span> <span class=o>%</span><span class=mi>0</span><span class=n>HT_smn</span><span class=o>%</span> <span class=n>KWh</span>  
<span class=nl>NT</span><span class=p>:</span> <span class=p>{</span><span class=n>m</span><span class=p>}</span> <span class=o>%</span><span class=mi>0</span><span class=n>NT_smn</span><span class=o>%</span> <span class=n>KWh</span>  
<span class=o>---------------------</span>  
<span class=nl>Jahresverbrauch</span><span class=p>:</span> <span class=p>{</span><span class=n>m</span><span class=p>}</span> <span class=o>%</span><span class=mi>0</span><span class=n>syn</span><span class=o>%</span> <span class=n>KWh</span>  
<span class=nl>HT</span><span class=p>:</span> <span class=p>{</span><span class=n>m</span><span class=p>}</span> <span class=o>%</span><span class=mi>0</span><span class=n>HT_syn</span><span class=o>%</span> <span class=n>KWh</span>  
<span class=mi>0</span><span class=o>:</span><span class=mo>00</span> <span class=n>Uhr</span> <span class=err>Σ</span> <span class=n>HT</span><span class=o>+</span><span class=nl>NT</span><span class=p>:</span> <span class=p>{</span><span class=n>m</span><span class=p>}</span> <span class=o>%</span><span class=mi>0</span><span class=n>sm</span><span class=o>%</span> <span class=n>KWh</span>  
<span class=nl>HT</span><span class=p>:</span> <span class=p>{</span><span class=n>m</span><span class=p>}</span> <span class=o>%</span><span class=mi>0</span><span class=n>HT_sm</span><span class=o>%</span> <span class=n>KWh</span>  
<span class=nl>NT</span><span class=p>:</span> <span class=p>{</span><span class=n>m</span><span class=p>}</span> <span class=o>%</span><span class=mi>0</span><span class=n>NT_sm</span><span class=o>%</span> <span class=n>KWh</span>  
<span class=o>----------------------</span>  
<span class=nl>Monatsanfang</span><span class=p>:</span> <span class=p>{</span><span class=n>m</span><span class=p>}</span> <span class=o>%</span><span class=mi>1</span><span class=n>sma</span><span class=o>%</span> <span class=n>KWh</span>  
<span class=nl>HT</span><span class=p>:</span> <span class=p>{</span><span class=n>m</span><span class=p>}</span> <span class=o>%</span><span class=mi>1</span><span class=n>HT_sma</span><span class=o>%</span> <span class=n>KWh</span>  
<span class=nl>NT</span><span class=p>:</span> <span class=p>{</span><span class=n>m</span><span class=p>}</span> <span class=o>%</span><span class=mi>1</span><span class=n>NT_sma</span><span class=o>%</span> <span class=n>KWh</span>  
<span class=o>----------------------</span>  
<span class=nl>Jahresanfang</span><span class=p>:</span> <span class=p>{</span><span class=n>m</span><span class=p>}</span> <span class=o>%</span><span class=mi>0</span><span class=n>sya</span><span class=o>%</span> <span class=n>KWh</span>  
<span class=nl>HT</span><span class=p>:</span> <span class=p>{</span><span class=n>m</span><span class=p>}</span> <span class=o>%</span><span class=mi>0</span><span class=n>HT_sya</span><span class=o>%</span> <span class=n>KWh</span>  
<span class=nl>NT</span><span class=p>:</span> <span class=p>{</span><span class=n>m</span><span class=p>}</span> <span class=o>%</span><span class=mi>0</span><span class=n>NT_sya</span><span class=o>%</span> <span class=n>KWh</span>  
<span class=p>.............................</span>  
<span class=nl>Tagesverbrauch</span><span class=p>:</span> <span class=p>{</span><span class=n>m</span><span class=p>}</span> <span class=o>%</span><span class=mi>1</span><span class=n>sd</span><span class=o>%</span> <span class=n>KWh</span>  
<span class=nl>HT</span><span class=p>:</span> <span class=p>{</span><span class=n>m</span><span class=p>}</span> <span class=o>%</span><span class=mi>1</span><span class=n>HT_sd</span><span class=o>%</span> <span class=n>KWh</span>  
<span class=nl>NT</span><span class=p>:</span> <span class=p>{</span><span class=n>m</span><span class=p>}</span> <span class=o>%</span><span class=mi>1</span><span class=n>NT_sd</span><span class=o>%</span> <span class=n>KWh</span>  
<span class=o>----------------------</span>  
<span class=nl>Monatsverbrauch</span><span class=p>:</span> <span class=p>{</span><span class=n>m</span><span class=p>}</span> <span class=o>%</span><span class=mi>0</span><span class=n>smn</span><span class=o>%</span> <span class=n>KWh</span>  
<span class=nl>HT</span><span class=p>:</span> <span class=p>{</span><span class=n>m</span><span class=p>}</span> <span class=o>%</span><span class=mi>0</span><span class=n>HT_smn</span><span class=o>%</span> <span class=n>KWh</span>  
<span class=nl>NT</span><span class=p>:</span> <span class=p>{</span><span class=n>m</span><span class=p>}</span> <span class=o>%</span><span class=mi>0</span><span class=n>NT_smn</span><span class=o>%</span> <span class=n>KWh</span>  
<span class=o>---------------------</span>  
<span class=nl>Jahresverbrauch</span><span class=p>:</span> <span class=p>{</span><span class=n>m</span><span class=p>}</span> <span class=o>%</span><span class=mi>0</span><span class=n>syn</span><span class=o>%</span> <span class=n>KWh</span>  
<span class=nl>HT</span><span class=p>:</span> <span class=p>{</span><span class=n>m</span><span class=p>}</span> <span class=o>%</span><span class=mi>0</span><span class=n>HT_syn</span><span class=o>%</span> <span class=n>KWh</span>  
<span class=nl>NT</span><span class=p>:</span> <span class=p>{</span><span class=n>m</span><span class=p>}</span> <span class=o>%</span><span class=mi>0</span><span class=n>NT_syn</span><span class=o>%</span> <span class=nl>KWhNT</span><span class=p>:</span> <span class=p>{</span><span class=n>m</span><span class=p>}</span> <span class=o>%</span><span class=mi>0</span><span class=n>NT_syn</span><span class=o>%</span> <span class=n>KWh</span>  

<span class=o>&gt;</span><span class=n>M</span> <span class=mi>1</span>  
<span class=o>+</span><span class=mi>1</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=n>o</span><span class=p>,</span><span class=mi>0</span><span class=p>,</span><span class=mi>9600</span><span class=p>,,</span><span class=mi>1</span>  
<span class=mi>1</span><span class=p>,</span><span class=mf>0.0.1</span><span class=p>(</span><span class=mi>@1</span><span class=p>,</span><span class=n>Zählernummer</span><span class=p>,,</span><span class=n>Meter_number</span><span class=p>,</span><span class=mi>0</span>  
<span class=mi>1</span><span class=p>,</span><span class=mf>0.9.1</span><span class=p>(@</span><span class=err>#</span><span class=p>),</span><span class=n>Zeitstempel</span><span class=p>,</span><span class=n>Uhr</span><span class=p>,</span><span class=n>time</span><span class=o>-</span><span class=n>stamp</span><span class=p>,</span><span class=mi>0</span>  
<span class=mi>1</span><span class=p>,</span><span class=o>=</span><span class=n>h</span><span class=o>===================</span>  
<span class=mi>1</span><span class=p>,</span><span class=mf>1.8.0</span><span class=p>(</span><span class=mi>@1</span><span class=p>,</span><span class=n>HT</span><span class=o>+</span><span class=n>NT</span> <span class=n>Zählerstand</span><span class=p>,</span><span class=n>KWh</span><span class=p>,</span><span class=n>Total_in</span><span class=p>,</span><span class=mi>3</span>  
<span class=mi>1</span><span class=p>,</span><span class=mf>1.8.1</span><span class=p>(</span><span class=mi>@1</span><span class=p>,</span><span class=n>HT</span><span class=p>,</span><span class=n>KWh</span><span class=p>,</span><span class=n>HT_Total_in</span><span class=p>,</span><span class=mi>3</span>  
<span class=mi>1</span><span class=p>,</span><span class=mf>1.8.2</span><span class=p>(</span><span class=mi>@1</span><span class=p>,</span><span class=n>NT</span><span class=p>,</span><span class=n>KWh</span><span class=p>,</span><span class=n>NT_Total_in</span><span class=p>,</span><span class=mi>3</span>  
<span class=mi>1</span><span class=p>,</span><span class=o>=</span><span class=n>h</span><span class=o>===================</span>  
<span class=mi>1</span><span class=p>,</span><span class=mf>36.7.0</span><span class=p>(</span><span class=mi>@1</span><span class=p>,</span><span class=n>Power_L1</span><span class=p>,</span><span class=n>kW</span><span class=p>,</span><span class=n>kW_L1</span><span class=p>,</span><span class=mi>2</span>  
<span class=mi>1</span><span class=p>,</span><span class=mf>56.7.0</span><span class=p>(</span><span class=mi>@1</span><span class=p>,</span><span class=n>Power_L2</span><span class=p>,</span><span class=n>kW</span><span class=p>,</span><span class=n>kW_L2</span><span class=p>,</span><span class=mi>2</span>  
<span class=mi>1</span><span class=p>,</span><span class=mf>76.7.0</span><span class=p>(</span><span class=mi>@1</span><span class=p>,</span><span class=n>Power_L3</span><span class=p>,</span><span class=n>kW</span><span class=p>,</span><span class=n>kW_L3</span><span class=p>,</span><span class=mi>2</span>  
<span class=mi>1</span><span class=p>,</span><span class=mf>16.7.0</span><span class=p>(</span><span class=mi>@1</span><span class=p>,</span><span class=err>Σ</span><span class=n>_L1</span><span class=o>+</span><span class=n>L2</span><span class=o>+</span><span class=n>L3</span><span class=p>,</span><span class=n>kW</span><span class=p>,</span><span class=n>kW_L1</span><span class=o>+</span><span class=n>L2</span><span class=o>+</span><span class=n>L3</span><span class=p>,</span><span class=mi>2</span>  
<span class=mi>1</span><span class=p>,</span><span class=o>=</span><span class=n>h</span><span class=o>===================</span>  
<span class=mi>1</span><span class=p>,</span><span class=mf>31.7.0</span><span class=p>(</span><span class=mi>@1</span><span class=p>,</span><span class=n>Strom_L1</span><span class=p>,</span><span class=n>A</span><span class=p>,</span><span class=n>I_L1</span><span class=p>,</span><span class=mi>2</span>  
<span class=mi>1</span><span class=p>,</span><span class=mf>51.7.0</span><span class=p>(</span><span class=mi>@1</span><span class=p>,</span><span class=n>Strom_L2</span><span class=p>,</span><span class=n>A</span><span class=p>,</span><span class=n>I_L2</span><span class=p>,</span><span class=mi>2</span>  
<span class=mi>1</span><span class=p>,</span><span class=mf>71.7.0</span><span class=p>(</span><span class=mi>@1</span><span class=p>,</span><span class=n>Strom_L3</span><span class=p>,</span><span class=n>A</span><span class=p>,</span><span class=n>I_L3</span><span class=p>,</span><span class=mi>2</span>  
<span class=cp>#</span>
</code></pre></div> <hr> <h3 id=combo-meter-watergassml>COMBO Meter (Water,Gas,SML)<a class=headerlink href=#combo-meter-watergassml title="Permanent link">~</a></h3> <div class=codehilite><pre><span></span><code><span class=o>&gt;</span><span class=n>D</span>  

<span class=o>&gt;</span><span class=n>B</span>  
<span class=o>-&gt;</span><span class=n>sensor53</span> <span class=n>r</span>

<span class=o>&gt;</span><span class=n>M</span> <span class=mi>3</span>  
<span class=o>+</span><span class=mi>1</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=n>c</span><span class=p>,</span><span class=mi>0</span><span class=p>,</span><span class=mi>10</span><span class=p>,</span><span class=n>H20</span>  
<span class=o>+</span><span class=mi>2</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=n>c</span><span class=p>,</span><span class=mi>0</span><span class=p>,</span><span class=mi>50</span><span class=p>,</span><span class=n>GAS</span>  
<span class=o>+</span><span class=mi>3</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=n>s</span><span class=p>,</span><span class=mi>0</span><span class=p>,</span><span class=mi>9600</span><span class=p>,</span><span class=n>SML</span>  
<span class=mi>1</span><span class=p>,</span><span class=mi>1-0</span><span class=o>:</span><span class=mf>1.8.0</span><span class=err>\</span><span class=o>*</span><span class=mi>255</span><span class=p>(</span><span class=mi>@10000</span><span class=p>,</span><span class=n>Water</span> <span class=n>reading</span><span class=p>,</span><span class=n>cbm</span><span class=p>,</span><span class=n>Count</span><span class=p>,</span><span class=mi>4</span>  
<span class=mi>2</span><span class=p>,</span><span class=o>=</span><span class=n>h</span><span class=o>==================</span>  
<span class=mi>2</span><span class=p>,</span><span class=mi>1-0</span><span class=o>:</span><span class=mf>1.8.0</span><span class=err>\</span><span class=o>*</span><span class=mi>255</span><span class=p>(</span><span class=mi>@100</span><span class=p>,</span><span class=n>Gas</span> <span class=n>reading</span><span class=p>,</span><span class=n>cbm</span><span class=p>,</span><span class=n>Count</span><span class=p>,</span><span class=mi>3</span>  
<span class=mi>3</span><span class=p>,</span><span class=mf>77070100010800f</span><span class=n>f</span><span class=mi>@1000</span><span class=p>,</span><span class=n>Total</span> <span class=n>consumption</span><span class=p>,</span><span class=n>KWh</span><span class=p>,</span><span class=n>Total_in</span><span class=p>,</span><span class=mi>3</span>  
<span class=mi>3</span><span class=p>,</span><span class=o>=</span><span class=n>h</span><span class=o>==================</span>  
<span class=mi>3</span><span class=p>,</span><span class=mf>77070100100700f</span><span class=n>f</span><span class=mi>@1</span><span class=p>,</span><span class=n>Current</span> <span class=n>consumption</span><span class=p>,</span><span class=n>W</span><span class=p>,</span><span class=n>Power_curr</span><span class=p>,</span><span class=mi>2</span>  
<span class=mi>3</span><span class=p>,</span><span class=o>=</span><span class=n>h</span> <span class=o>-------------------------------</span>  
<span class=mi>3</span><span class=p>,</span><span class=o>=</span><span class=n>m</span> <span class=mi>10</span><span class=o>+</span><span class=mi>11</span><span class=o>+</span><span class=mi>12</span> <span class=mi>@100</span><span class=p>,</span><span class=n>Currents</span> <span class=n>L1</span><span class=o>+</span><span class=n>L2</span><span class=o>+</span><span class=n>L3</span><span class=p>,</span><span class=n>A</span><span class=p>,</span><span class=n>Curr_summ</span><span class=p>,</span><span class=mi>2</span>  
<span class=mi>3</span><span class=p>,</span><span class=o>=</span><span class=n>m</span> <span class=mi>13</span><span class=o>+</span><span class=mi>14</span><span class=o>+</span><span class=mi>15</span><span class=o>/</span><span class=err>#</span><span class=mi>3</span> <span class=mi>@100</span><span class=p>,</span><span class=n>Voltage</span> <span class=n>L1</span><span class=o>+</span><span class=n>L2</span><span class=o>+</span><span class=n>L3</span><span class=o>/</span><span class=mi>3</span><span class=p>,</span><span class=n>V</span><span class=p>,</span><span class=n>Volt_avg</span><span class=p>,</span><span class=mi>2</span>  
<span class=mi>3</span><span class=p>,</span><span class=o>=</span><span class=n>h</span><span class=o>==================</span>  
<span class=mi>3</span><span class=p>,</span><span class=mf>77070100240700f</span><span class=n>f</span><span class=mi>@1</span><span class=p>,</span><span class=n>Consumption</span> <span class=n>P1</span><span class=p>,</span><span class=n>W</span><span class=p>,</span><span class=n>Power_p1</span><span class=p>,</span><span class=mi>2</span>  
<span class=mi>3</span><span class=p>,</span><span class=mf>77070100380700f</span><span class=n>f</span><span class=mi>@1</span><span class=p>,</span><span class=n>Consumption</span> <span class=n>P2</span><span class=p>,</span><span class=n>W</span><span class=p>,</span><span class=n>Power_p2</span><span class=p>,</span><span class=mi>2</span>  
<span class=mi>3</span><span class=p>,</span><span class=mi>770701004</span><span class=n>c0700ff</span><span class=mi>@1</span><span class=p>,</span><span class=n>Consumption</span> <span class=n>P3</span><span class=p>,</span><span class=n>W</span><span class=p>,</span><span class=n>Power_p3</span><span class=p>,</span><span class=mi>2</span>  
<span class=mi>3</span><span class=p>,</span><span class=o>=</span><span class=n>h</span> <span class=o>-------------------------------</span>  
<span class=mi>3</span><span class=p>,</span><span class=mf>770701001f0700f</span><span class=n>f</span><span class=mi>@100</span><span class=p>,</span><span class=n>Current</span> <span class=n>L1</span><span class=p>,</span><span class=n>A</span><span class=p>,</span><span class=n>Curr_p1</span><span class=p>,</span><span class=mi>2</span>  
<span class=mi>3</span><span class=p>,</span><span class=mf>77070100330700f</span><span class=n>f</span><span class=mi>@100</span><span class=p>,</span><span class=n>Current</span> <span class=n>L2</span><span class=p>,</span><span class=n>A</span><span class=p>,</span><span class=n>Curr_p2</span><span class=p>,</span><span class=mi>2</span>  
<span class=mi>3</span><span class=p>,</span><span class=mf>77070100470700f</span><span class=n>f</span><span class=mi>@100</span><span class=p>,</span><span class=n>Current</span> <span class=n>L3</span><span class=p>,</span><span class=n>A</span><span class=p>,</span><span class=n>Curr_p3</span><span class=p>,</span><span class=mi>2</span>  
<span class=mi>3</span><span class=p>,</span><span class=o>=</span><span class=n>h</span> <span class=o>-------------------------------</span>  
<span class=mi>3</span><span class=p>,</span><span class=mf>77070100200700f</span><span class=n>f</span><span class=mi>@100</span><span class=p>,</span><span class=n>Voltage</span> <span class=n>L1</span><span class=p>,</span><span class=n>V</span><span class=p>,</span><span class=n>Volt_p1</span><span class=p>,</span><span class=mi>2</span>  
<span class=mi>3</span><span class=p>,</span><span class=mf>77070100340700f</span><span class=n>f</span><span class=mi>@100</span><span class=p>,</span><span class=n>Voltage</span> <span class=n>L2</span><span class=p>,</span><span class=n>V</span><span class=p>,</span><span class=n>Volt_p2</span><span class=p>,</span><span class=mi>2</span>  
<span class=mi>3</span><span class=p>,</span><span class=mf>77070100480700f</span><span class=n>f</span><span class=mi>@100</span><span class=p>,</span><span class=n>Voltage</span> <span class=n>L3</span><span class=p>,</span><span class=n>V</span><span class=p>,</span><span class=n>Volt_p3</span><span class=p>,</span><span class=mi>2</span>  
<span class=mi>3</span><span class=p>,</span><span class=o>=</span><span class=n>h</span><span class=o>==================</span>  
<span class=mi>3</span><span class=p>,</span><span class=mf>77070100000009f</span><span class=n>f</span><span class=p>@</span><span class=err>#</span><span class=p>,</span><span class=n>Service</span> <span class=n>ID</span><span class=p>,,</span><span class=n>Meter_id</span><span class=p>,</span><span class=mi>0</span>  
<span class=mi>3</span><span class=p>,</span><span class=o>=</span><span class=n>h</span><span class=o>--------------------------------</span>  
<span class=cp>#  </span>
</code></pre></div> <hr> <h3 id=wolf-csz-11300-heater>WOLF CSZ 11/300 Heater<a class=headerlink href=#wolf-csz-11300-heater title="Permanent link">~</a></h3> <div class=codehilite><pre><span></span><code><span class=o>&gt;</span><span class=n>D</span>  

<span class=o>&gt;</span><span class=n>B</span>  
<span class=o>-&gt;</span><span class=n>sensor53</span> <span class=n>r</span>

<span class=o>&gt;</span><span class=n>M</span> <span class=mi>1</span>  
<span class=o>+</span><span class=mi>1</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=n>e</span><span class=p>,</span><span class=mi>0</span><span class=p>,</span><span class=mi>2400</span><span class=p>,</span><span class=n>EBUS</span>  
<span class=mi>1</span><span class=p>,</span><span class=n>xxxx0503xxxxxxxxxxxxxxxxss</span><span class=mi>@1</span><span class=p>,</span><span class=n>Outside</span> <span class=n>temperature</span><span class=p>,</span><span class=n>C</span><span class=p>,</span><span class=n>Outsidetemp</span><span class=p>,</span><span class=mi>0</span>  
<span class=mi>1</span><span class=p>,</span><span class=n>xxxx5014xxxxxxxxxxuu</span><span class=mi>@1</span><span class=p>,</span><span class=n>Romm</span> <span class=n>temperature</span><span class=p>,</span><span class=n>C</span><span class=p>,</span><span class=n>Roomtemp</span><span class=p>,</span><span class=mi>0</span>  
<span class=mi>1</span><span class=p>,</span><span class=n>xxxx0503xxxxxxxxxxxxxxuu</span><span class=mi>@1</span><span class=p>,</span><span class=n>Warmwater</span><span class=p>,</span><span class=n>C</span><span class=p>,</span><span class=n>Warmwater</span><span class=p>,</span><span class=mi>0</span>  
<span class=mi>1</span><span class=p>,</span><span class=n>xxxx0503xxxxxxxxxxuu</span><span class=mi>@1</span><span class=p>,</span><span class=n>Boiler</span><span class=p>,</span><span class=n>C</span><span class=p>,</span><span class=n>Boiler</span><span class=p>,</span><span class=mi>0</span>  
<span class=mi>1</span><span class=p>,</span><span class=mf>03f</span><span class=n>e0503xxxxxxxxxxxxuu</span><span class=mi>@1</span><span class=p>,</span><span class=n>Returns</span><span class=p>,</span><span class=n>C</span><span class=p>,</span><span class=n>Returns</span><span class=p>,</span><span class=mi>0</span>  
<span class=mi>1</span><span class=p>,</span><span class=mf>03f</span><span class=n>e0503xxxxuu</span><span class=mi>@1</span><span class=p>,</span><span class=n>Status</span><span class=p>,,</span><span class=n>Status</span><span class=p>,</span><span class=mi>0</span>  
<span class=mi>1</span><span class=p>,</span><span class=mf>03f</span><span class=n>e0503xxxxxxuu</span><span class=p>@</span><span class=nl>b3</span><span class=p>:</span><span class=mi>1</span><span class=p>,</span><span class=n>Burner</span> <span class=n>on</span><span class=p>,,</span><span class=n>Burner</span><span class=p>,</span><span class=mi>0</span>  
<span class=mi>1</span><span class=p>,</span><span class=n>xxxx5017xxxxxxuuuu</span><span class=mi>@16</span><span class=p>,</span><span class=n>Solar</span> <span class=n>collektor</span><span class=p>,</span><span class=n>C</span><span class=p>,</span><span class=n>Collector</span><span class=p>,</span><span class=mi>1</span>  
<span class=mi>1</span><span class=p>,</span><span class=n>xxxx5017xxxxxxxxxxuuuu</span><span class=mi>@16</span><span class=p>,</span><span class=n>Solar</span> <span class=n>storage</span><span class=p>,</span><span class=n>C</span><span class=p>,</span><span class=n>Solarstorage</span><span class=p>,</span><span class=mi>1</span>  
<span class=mi>1</span><span class=p>,</span><span class=n>xxxx5017xxuu</span><span class=p>@</span><span class=nl>b0</span><span class=p>:</span><span class=mi>1</span><span class=p>,</span><span class=n>Solar</span> <span class=n>pump</span> <span class=n>on</span><span class=p>,,</span><span class=n>Solarpump</span><span class=p>,</span><span class=mi>0</span>  
<span class=cp>#  </span>
</code></pre></div> <hr> <h3 id=modbus-devices>MODBUS Devices<a class=headerlink href=#modbus-devices title="Permanent link">~</a></h3> <h3 id=sdm530>SDM530<a class=headerlink href=#sdm530 title="Permanent link">~</a></h3> <div class=codehilite><pre><span></span><code><span class=err>&gt;D  </span>
<span class=err>&gt;B  </span>
<span class=err>-&gt;sensor53 r</span>
<span class=err>&gt;M 1  </span>
<span class=err>+1,3,m,0,9600,MODBUS,1,1,01040000,01040002,01040004,01040006,01040008,0104000a,0104000c,0104000e,01040010  </span>
<span class=err>1,010404ffffffff@i0:1,Voltage P1,V,Voltage_P1,2  </span>
<span class=err>1,010404ffffffff@i1:1,Voltage P2,V,Voltage_P2,2  </span>
<span class=err>1,010404ffffffff@i2:1,Voltage P3,V,Voltage_P3,2  </span>
<span class=err>1,010404ffffffff@i3:1,Current P1,A,Current_P1,2  </span>
<span class=err>1,010404ffffffff@i4:1,Current P2,A,Current_P2,2  </span>
<span class=err>1,010404ffffffff@i5:1,Current P3,A,Current_P3,2  </span>
<span class=err>1,010404ffffffff@i6:1,Active Power P1,W,Power_P1,2  </span>
<span class=err>1,010404ffffffff@i7:1,Active Power P2,W,Power_P2,2  </span>
<span class=err>1,010404ffffffff@i8:1,Active Power P3,W,Power_P3,2  </span>
<span class=err>#  </span>
</code></pre></div> <hr> <h3 id=sdm230>SDM230<a class=headerlink href=#sdm230 title="Permanent link">~</a></h3> <div class=codehilite><pre><span></span><code><span class=o>&gt;</span><span class=n>D</span>  
<span class=n>ms</span><span class=o>=</span><span class=s>&quot;1,010404ffffffff@&quot;</span>  
<span class=o>&gt;</span><span class=n>B</span>  
<span class=o>-&gt;</span><span class=n>sensor53</span> <span class=n>r</span>  
<span class=o>&gt;</span><span class=n>M</span> <span class=mi>1</span>  
<span class=o>+</span><span class=mi>1</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=n>m</span><span class=p>,</span><span class=mi>0</span><span class=p>,</span><span class=mi>9600</span><span class=p>,</span><span class=n>PV</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mo>01040000</span><span class=p>,</span><span class=mo>01040006</span><span class=p>,</span><span class=mo>0104000</span><span class=n>C</span><span class=p>,</span><span class=mo>01040012</span><span class=p>,</span><span class=mo>0104001</span><span class=mi>8</span><span class=p>,</span><span class=mo>0104001</span><span class=n>E</span><span class=p>,</span><span class=mo>01040024</span><span class=p>,</span><span class=mo>01040046</span><span class=p>,</span><span class=mo>0104004</span><span class=mi>8</span><span class=p>,</span><span class=mo>0104004</span><span class=n>A</span><span class=p>,</span><span class=mo>0104004</span><span class=n>C</span><span class=p>,</span><span class=mo>0104004</span><span class=n>E</span><span class=p>,</span><span class=mo>01040054</span><span class=p>,</span><span class=mo>01040056</span><span class=p>,</span><span class=mo>0104005</span><span class=mi>8</span><span class=p>,</span><span class=mo>0104005</span><span class=n>A</span><span class=p>,</span><span class=mo>0104005</span><span class=n>C</span><span class=p>,</span><span class=mo>0104005</span><span class=n>E</span><span class=p>,</span><span class=mo>01040102</span><span class=p>,</span><span class=mo>0104010</span><span class=mi>8</span><span class=p>,</span><span class=mo>01040152</span><span class=p>,</span><span class=mo>0104015</span><span class=mi>8</span><span class=p>,</span><span class=mo>010401</span><span class=mi>80</span><span class=p>,</span><span class=mo>010401</span><span class=mi>82</span>  
<span class=nf>%ms%i0</span><span class=o>:</span><span class=mi>1</span><span class=p>,</span><span class=n>Volt</span><span class=p>,</span><span class=n>V</span><span class=p>,</span><span class=n>Volt</span><span class=p>,</span><span class=mi>2</span>  
<span class=nf>%ms%i1</span><span class=o>:</span><span class=mi>1</span><span class=p>,</span><span class=n>Strom</span> <span class=n>P1</span><span class=p>,</span><span class=n>A</span><span class=p>,</span><span class=n>Strom</span><span class=p>,</span><span class=mi>3</span>  
<span class=nf>%ms%i2</span><span class=o>:</span><span class=mi>1</span><span class=p>,</span><span class=o>*</span><span class=p>,</span><span class=n>W</span><span class=p>,</span><span class=n>Leistung</span><span class=p>,</span><span class=mi>2</span>  
<span class=nf>%ms%i3</span><span class=o>:</span><span class=mi>1</span><span class=p>,</span><span class=n>Scheinleistung</span><span class=p>,</span><span class=n>VA</span><span class=p>,</span><span class=n>ScheinLeistung</span><span class=p>,</span><span class=mi>2</span>  
<span class=nf>%ms%i4</span><span class=o>:</span><span class=mi>1</span><span class=p>,</span><span class=n>Blindleistung</span><span class=p>,</span><span class=n>VAr</span><span class=p>,</span><span class=n>Blindleistung</span><span class=p>,</span><span class=mi>2</span>  
<span class=nf>%ms%i5</span><span class=o>:</span><span class=mi>1</span><span class=p>,</span><span class=n>P</span><span class=o>-</span><span class=n>Faktor</span><span class=p>,,</span><span class=n>P_Faktor</span><span class=p>,</span><span class=mi>1</span>  
<span class=nf>%ms%i6</span><span class=o>:</span><span class=mi>1</span><span class=p>,</span><span class=n>cosPhi</span><span class=p>,</span><span class=err>°</span><span class=p>,</span><span class=n>cosPhi</span><span class=p>,</span><span class=mi>2</span>  
<span class=nf>%ms%i7</span><span class=o>:</span><span class=mi>1</span><span class=p>,</span><span class=n>Frequenz</span><span class=p>,</span><span class=n>Hz</span><span class=p>,</span> <span class=n>Frequenz</span><span class=p>,</span><span class=mi>1</span>  
<span class=nf>%ms%i8</span><span class=o>:</span><span class=mi>1</span><span class=p>,</span><span class=n>Wirkleistung</span> <span class=n>Import</span><span class=p>,</span><span class=n>kWh</span><span class=p>,</span><span class=n>Wirkleistung_Im1</span><span class=p>,</span><span class=mi>3</span>  
<span class=nf>%ms%i9</span><span class=o>:</span><span class=mi>1</span><span class=p>,</span><span class=n>Wirkleistung</span> <span class=n>Export</span><span class=p>,</span><span class=n>kWh</span><span class=p>,</span><span class=n>Wirkleistung_Ex</span><span class=p>,</span><span class=mi>3</span>  
<span class=nf>%ms%i10</span><span class=o>:</span><span class=mi>1</span><span class=p>,</span><span class=n>Blindleistung</span> <span class=n>Import</span><span class=p>,</span><span class=n>VkkVARh</span><span class=p>,</span><span class=n>Blindleistung_Im</span><span class=p>,</span><span class=mi>3</span>  
<span class=nf>%ms%i11</span><span class=o>:</span><span class=mi>1</span><span class=p>,</span><span class=n>Blindleistung</span> <span class=n>Export</span><span class=p>,</span><span class=n>VkkVARh</span><span class=p>,</span><span class=n>Blindleistung_Ex</span><span class=p>,</span><span class=mi>3</span>  
<span class=nf>%ms%i12</span><span class=o>:</span><span class=mi>1</span><span class=p>,</span><span class=n>Gesamtleistungsbedarf</span><span class=p>,</span><span class=n>W</span><span class=p>,</span><span class=n>GesLeistBed</span><span class=p>,</span><span class=mi>2</span>  
<span class=nf>%ms%i13</span><span class=o>:</span><span class=mi>1</span><span class=p>,</span><span class=n>GesamtLeistung</span> <span class=n>Max</span><span class=p>,</span><span class=n>W</span><span class=p>,</span><span class=n>GesLeistMax</span><span class=p>,</span><span class=mi>2</span>  
<span class=nf>%ms%i14</span><span class=o>:</span><span class=mi>1</span><span class=p>,</span><span class=n>Akt</span><span class=p>.</span><span class=n>Nachfrage</span><span class=p>,</span><span class=n>W</span><span class=p>,</span><span class=n>AktNachfrage</span><span class=p>,</span><span class=mi>2</span>  
<span class=nf>%ms%i15</span><span class=o>:</span><span class=mi>1</span><span class=p>,</span><span class=n>Rückleistungs</span> <span class=n>Bed</span><span class=p>,</span><span class=n>W</span><span class=p>,</span><span class=n>RueckLeistBed</span><span class=p>,</span><span class=mi>2</span>  
<span class=nf>%ms%i16</span><span class=o>:</span><span class=mi>1</span><span class=p>,</span><span class=n>Rückleistungs</span> <span class=n>Bed</span> <span class=n>Max</span><span class=p>,</span><span class=n>W</span><span class=p>,</span><span class=n>RueckLeistBedMax</span><span class=p>,</span><span class=mi>2</span>  
<span class=nf>%ms%i17</span><span class=o>:</span><span class=mi>1</span><span class=p>,</span><span class=n>Strom</span> <span class=n>Nachfrage</span><span class=p>,</span><span class=n>A</span><span class=p>,</span><span class=n>StromNachfrage2</span><span class=p>,</span><span class=mi>2</span>  
<span class=nf>%ms%i19</span><span class=o>:</span><span class=mi>1</span><span class=p>,</span><span class=n>Max</span> <span class=n>Strombedarf</span><span class=p>,</span><span class=n>A</span><span class=p>,</span><span class=n>StromBedMax</span><span class=p>,</span><span class=mi>2</span>  
<span class=nf>%ms%i20</span><span class=o>:</span><span class=mi>1</span><span class=p>,</span><span class=n>Wirkleistung</span> <span class=n>Gesamt</span><span class=p>,</span><span class=n>kWh</span><span class=p>,</span><span class=n>Wirkleistung_total</span><span class=p>,</span><span class=mi>2</span>  
<span class=nf>%ms%i21</span><span class=o>:</span><span class=mi>1</span><span class=p>,</span><span class=n>Blindleistung</span> <span class=n>Gesamt</span><span class=p>,</span><span class=n>kVARh</span><span class=p>,</span><span class=n>Blindleistung_total</span><span class=p>,</span><span class=mi>2</span>  
<span class=nf>%ms%i22</span><span class=o>:</span><span class=mi>1</span><span class=p>,</span><span class=n>Temp</span> <span class=n>Gesamtleistung</span><span class=p>,</span><span class=n>kWh</span><span class=p>,</span><span class=n>TempGesamtLeist</span><span class=p>,</span><span class=mi>2</span>  
<span class=cp>#  </span>
</code></pre></div> <hr> <h3 id=janitza-b23>Janitza B23<a class=headerlink href=#janitza-b23 title="Permanent link">~</a></h3> <div class=codehilite><pre><span></span><code><span class=o>&gt;</span><span class=n>D</span><span class=w></span>
<span class=o>&gt;</span><span class=n>B</span><span class=w>  </span>
<span class=o>-&gt;</span><span class=n>sensor53</span><span class=w> </span><span class=n>r</span><span class=w></span>

<span class=o>&gt;</span><span class=n>M</span><span class=w> </span><span class=mi>1</span><span class=w>  </span>
<span class=o>+</span><span class=mi>1</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=n>m</span><span class=p>,</span><span class=mi>0</span><span class=p>,</span><span class=mi>9600</span><span class=p>,</span><span class=n>Janitza</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>01034</span><span class=n>A38</span><span class=p>,</span><span class=mi>01034</span><span class=n>A3A</span><span class=p>,</span><span class=mi>01034</span><span class=n>A3C</span><span class=p>,</span><span class=mi>01034</span><span class=n>A4C</span><span class=p>,</span><span class=mi>01034</span><span class=n>A4E</span><span class=p>,</span><span class=mi>01034</span><span class=n>A50</span><span class=p>,</span><span class=mi>01034</span><span class=n>A72</span><span class=p>,</span><span class=mi>01034</span><span class=n>A7A</span><span class=p>,</span><span class=mi>01034</span><span class=n>A82</span><span class=w>  </span>

<span class=mi>1</span><span class=p>,</span><span class=mi>010304</span><span class=n>ffffffff</span><span class=nv>@i0</span><span class=err>:</span><span class=mi>1</span><span class=p>,</span><span class=n>Voltage</span><span class=w> </span><span class=n>L1</span><span class=o>-</span><span class=n>N</span><span class=p>,</span><span class=n>V</span><span class=p>,</span><span class=n>Voltage_L1</span><span class=o>-</span><span class=n>N</span><span class=p>,</span><span class=mi>2</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>010304</span><span class=n>ffffffff</span><span class=nv>@i1</span><span class=err>:</span><span class=mi>1</span><span class=p>,</span><span class=n>Voltage</span><span class=w> </span><span class=n>L2</span><span class=o>-</span><span class=n>N</span><span class=p>,</span><span class=n>V</span><span class=p>,</span><span class=n>Voltage_L2</span><span class=o>-</span><span class=n>N</span><span class=p>,</span><span class=mi>2</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>010304</span><span class=n>ffffffff</span><span class=nv>@i2</span><span class=err>:</span><span class=mi>1</span><span class=p>,</span><span class=n>Voltage</span><span class=w> </span><span class=n>L3</span><span class=o>-</span><span class=n>N</span><span class=p>,</span><span class=n>V</span><span class=p>,</span><span class=n>Voltage_L3</span><span class=o>-</span><span class=n>N</span><span class=p>,</span><span class=mi>2</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>010304</span><span class=n>ffffffff</span><span class=nv>@i3</span><span class=err>:</span><span class=mi>1</span><span class=p>,</span><span class=nc>Real</span><span class=w> </span><span class=nf>power</span><span class=w> </span><span class=n>L1</span><span class=o>-</span><span class=n>N</span><span class=p>,</span><span class=n>W</span><span class=p>,</span><span class=n>Real_power_L1</span><span class=o>-</span><span class=n>N</span><span class=p>,</span><span class=mi>2</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>010304</span><span class=n>ffffffff</span><span class=nv>@i4</span><span class=err>:</span><span class=mi>1</span><span class=p>,</span><span class=nc>Real</span><span class=w> </span><span class=nf>power</span><span class=w> </span><span class=n>L2</span><span class=o>-</span><span class=n>N</span><span class=p>,</span><span class=n>W</span><span class=p>,</span><span class=n>Real_power_L2</span><span class=o>-</span><span class=n>N</span><span class=p>,</span><span class=mi>2</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>010304</span><span class=n>ffffffff</span><span class=nv>@i5</span><span class=err>:</span><span class=mi>1</span><span class=p>,</span><span class=nc>Real</span><span class=w> </span><span class=nf>power</span><span class=w> </span><span class=n>L3</span><span class=o>-</span><span class=n>N</span><span class=p>,</span><span class=n>W</span><span class=p>,</span><span class=n>Real_power_L3</span><span class=o>-</span><span class=n>N</span><span class=p>,</span><span class=mi>2</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>010304</span><span class=n>ffffffff</span><span class=nv>@i6</span><span class=err>:</span><span class=mi>1</span><span class=p>,</span><span class=nc>Real</span><span class=w> </span><span class=n>energy</span><span class=w> </span><span class=n>L3</span><span class=p>,</span><span class=n>Wh</span><span class=p>,</span><span class=n>Real_energy_L3</span><span class=p>,</span><span class=mi>2</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>010304</span><span class=n>ffffffff</span><span class=nv>@i7</span><span class=err>:</span><span class=mi>1</span><span class=p>,</span><span class=nc>Real</span><span class=w> </span><span class=n>energy</span><span class=w> </span><span class=n>L3</span><span class=o>-</span><span class=n>consumed</span><span class=p>,</span><span class=n>Wh</span><span class=p>,</span><span class=n>Real_energy_L3_consumed</span><span class=p>,</span><span class=mi>2</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>010304</span><span class=n>ffffffff</span><span class=nv>@i8</span><span class=err>:</span><span class=mi>1</span><span class=p>,</span><span class=nc>Real</span><span class=w> </span><span class=n>energy</span><span class=w> </span><span class=n>L3</span><span class=o>-</span><span class=n>delivered</span><span class=p>,</span><span class=n>Wh</span><span class=p>,</span><span class=n>Real_energy_L3_delivered</span><span class=p>,</span><span class=mi>2</span><span class=w>   </span>
<span class=err>#</span><span class=w></span>
</code></pre></div> <hr> <h3 id=hager-ehz363-sml-with-daily-values>Hager EHZ363 (SML) with daily values<a class=headerlink href=#hager-ehz363-sml-with-daily-values title="Permanent link">~</a></h3> <div class=codehilite><pre><span></span><code><span class=o>&gt;</span><span class=n>D</span>  
<span class=n>pin</span><span class=o>=</span><span class=mi>0</span>  
<span class=n>pout</span><span class=o>=</span><span class=mi>0</span>  
<span class=n>pi_d</span><span class=o>=</span><span class=mi>0</span>  
<span class=n>po_d</span><span class=o>=</span><span class=mi>0</span>  
<span class=n>hr</span><span class=o>=</span><span class=mi>0</span>  
<span class=p>;</span> <span class=n>permanent</span> <span class=n>midnight</span> <span class=n>values</span>  
<span class=nl>p</span><span class=p>:</span><span class=n>pi_m</span><span class=o>=</span><span class=mi>0</span>  
<span class=nl>p</span><span class=p>:</span><span class=n>po_m</span><span class=o>=</span><span class=mi>0</span>  

<span class=o>&gt;</span><span class=n>B</span>  
<span class=o>-&gt;</span><span class=n>sensor53</span> <span class=n>r</span>  

<span class=o>&gt;</span><span class=n>T</span>  
<span class=p>;</span> <span class=n>get</span> <span class=n>total</span> <span class=n>consumption</span> <span class=n>and</span> <span class=n>total</span> <span class=n>feed</span>  
<span class=n>pin</span><span class=o>=</span><span class=n>SML</span><span class=err>#</span><span class=n>Total_in</span>  
<span class=n>pout</span><span class=o>=</span><span class=n>SML</span><span class=err>#</span><span class=n>Total_out</span>  

<span class=o>&gt;</span><span class=n>S</span>  
<span class=p>;</span> <span class=n>at</span> <span class=n>midnight</span><span class=p>,</span> <span class=n>save</span> <span class=n>meter</span> <span class=n>total</span> <span class=n>values</span>  
<span class=n>hr</span><span class=o>=</span><span class=n>hours</span>  
<span class=k>if</span> <span class=n>chg</span><span class=p>[</span><span class=n>hr</span><span class=p>]</span><span class=o>&gt;</span><span class=mi>0</span>  
<span class=n>and</span> <span class=n>hr</span><span class=o>==</span><span class=mi>0</span>  
<span class=n>then</span>  
<span class=n>pi_m</span><span class=o>=</span><span class=n>pin</span>  
<span class=n>po_m</span><span class=o>=</span><span class=n>pout</span>  
<span class=n>svars</span>  
<span class=n>endif</span>  

<span class=p>;</span> <span class=n>on</span> <span class=n>teleperiod</span> <span class=n>calculate</span> <span class=n>current</span> <span class=n>daily</span> <span class=n>values</span> <span class=n>from</span> <span class=n>midnight</span>  
<span class=k>if</span> <span class=n>upsecs</span><span class=o>%</span><span class=n>tper</span><span class=o>==</span><span class=mi>0</span>  
<span class=n>then</span>  
<span class=n>pi_d</span><span class=o>=</span><span class=n>pin</span><span class=o>-</span><span class=n>pi_m</span>  
<span class=n>po_d</span><span class=o>=</span><span class=n>pout</span><span class=o>-</span><span class=n>po_m</span>  
<span class=n>endif</span>  

<span class=p>;</span> <span class=n>show</span> <span class=n>these</span> <span class=n>values</span> <span class=n>on</span> <span class=n>WEB</span> <span class=n>UI</span>  
<span class=o>&gt;</span><span class=n>W</span>  
<span class=nl>Tagesverbrauch</span><span class=p>:</span> <span class=p>{</span><span class=n>m</span><span class=p>}</span> <span class=o>%</span><span class=n>pi_d</span><span class=o>%</span> <span class=n>kWh</span>  
<span class=nl>Tageseinspeisung</span><span class=p>:</span> <span class=p>{</span><span class=n>m</span><span class=p>}</span> <span class=o>%</span><span class=n>po_d</span><span class=o>%</span> <span class=n>kWh</span>    

<span class=p>;</span> <span class=n>transmit</span> <span class=n>these</span> <span class=n>values</span> <span class=n>with</span> <span class=n>MQTT</span>  
<span class=o>&gt;</span><span class=n>J</span>  
<span class=p>,</span><span class=s>&quot;daily_consumption&quot;</span><span class=o>:%</span><span class=n>pi_d</span><span class=o>%</span><span class=p>,</span><span class=s>&quot;daily_feed&quot;</span><span class=o>:%</span><span class=n>po_d</span><span class=o>%</span>  

<span class=p>;</span> <span class=n>meter</span> <span class=n>definition</span>  
<span class=o>&gt;</span><span class=n>M</span> <span class=mi>1</span>  
<span class=o>+</span><span class=mi>1</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=n>s</span><span class=p>,</span><span class=mi>0</span><span class=p>,</span><span class=mi>9600</span><span class=p>,</span><span class=n>SML</span>  

<span class=mi>1</span><span class=p>,</span><span class=mf>77070100010800f</span><span class=n>f</span><span class=mi>@1000</span><span class=p>,</span><span class=n>Total</span> <span class=n>Consumed</span><span class=p>,</span><span class=n>KWh</span><span class=p>,</span><span class=n>Total_in</span><span class=p>,</span><span class=mi>4</span>  
<span class=mi>1</span><span class=p>,</span><span class=mf>77070100020800f</span><span class=n>f</span><span class=mi>@1000</span><span class=p>,</span><span class=n>Total</span> <span class=n>Delivered</span><span class=p>,</span><span class=n>KWh</span><span class=p>,</span><span class=n>Total_out</span><span class=p>,</span><span class=mi>4</span>  
<span class=mi>1</span><span class=p>,</span><span class=mf>77070100100700f</span><span class=n>f</span><span class=mi>@1</span><span class=p>,</span><span class=n>Current</span> <span class=n>Consumption</span><span class=p>,</span><span class=n>W</span><span class=p>,</span><span class=n>Power_curr</span><span class=p>,</span><span class=mi>0</span>  
<span class=mi>1</span><span class=p>,</span><span class=mf>77070100000009f</span><span class=n>f</span><span class=p>@</span><span class=err>#</span><span class=p>,</span><span class=n>Meter</span> <span class=n>Number</span><span class=p>,,</span><span class=n>Meter_number</span><span class=p>,</span><span class=mi>0</span>  
<span class=cp>#</span>
</code></pre></div> <hr> <h3 id=iskra-mt-174-obis>Iskra MT 174 (OBIS)<a class=headerlink href=#iskra-mt-174-obis title="Permanent link">~</a></h3> <div class=codehilite><pre><span></span><code><span class=o>&gt;</span><span class=n>D</span>
<span class=o>&gt;</span><span class=n>B</span>  
<span class=o>-&gt;</span><span class=n>sensor53</span> <span class=n>r</span>

<span class=o>&gt;</span><span class=n>M</span> <span class=mi>1</span>  
<span class=o>+</span><span class=mi>1</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=n>o</span><span class=p>,</span><span class=mi>0</span><span class=p>,</span><span class=mi>300</span><span class=p>,</span><span class=n>STROM</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>100</span><span class=p>,</span><span class=mf>2F3F</span><span class=mi>210</span><span class=n>D0A</span>  

<span class=mi>1</span><span class=p>,</span><span class=mi>1-0</span><span class=o>:</span><span class=mf>1.8.1</span><span class=o>*</span><span class=mi>255</span><span class=p>(</span><span class=mi>@1</span><span class=p>,</span><span class=n>Total</span> <span class=n>Consumed</span><span class=p>,</span><span class=n>KWh</span><span class=p>,</span><span class=n>Total_in</span><span class=p>,</span><span class=mi>3</span>  
<span class=mi>1</span><span class=p>,</span><span class=mi>1-0</span><span class=o>:</span><span class=mf>2.8.1</span><span class=o>*</span><span class=mi>255</span><span class=p>(</span><span class=mi>@1</span><span class=p>,</span><span class=n>Total</span> <span class=n>Delivered</span><span class=p>,</span><span class=n>KWh</span><span class=p>,</span><span class=n>Total_out</span><span class=p>,</span><span class=mi>3</span>  
<span class=mi>1</span><span class=p>,</span><span class=mi>1-0</span><span class=o>:</span><span class=mf>0.0.0</span><span class=o>*</span><span class=mi>255</span><span class=p>(@</span><span class=err>#</span><span class=p>),</span><span class=n>Meter</span> <span class=n>Number</span><span class=p>,,</span><span class=n>Meter_number</span><span class=p>,</span><span class=mi>0</span>    
<span class=cp>#</span>
</code></pre></div> <h3 id=sbc-ale3-modbus>SBC ALE3 MODBUS<a class=headerlink href=#sbc-ale3-modbus title="Permanent link">~</a></h3> <div class=codehilite><pre><span></span><code><span class=o>&gt;</span><span class=n>D</span><span class=w>  </span>
<span class=o>&gt;</span><span class=n>B</span><span class=w>  </span>
<span class=o>-&gt;</span><span class=n>sensor53</span><span class=w> </span><span class=n>r</span><span class=w>  </span>
<span class=o>&gt;</span><span class=n>M</span><span class=w> </span><span class=mi>1</span><span class=w>  </span>
<span class=o>+</span><span class=mi>1</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=n>M</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>9600</span><span class=p>,</span><span class=n>SBC</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>02030023</span><span class=p>,</span><span class=mi>02030028</span><span class=p>,</span><span class=mi>0203002</span><span class=n>d</span><span class=p>,</span><span class=mi>02030025</span><span class=p>,</span><span class=mi>0203002</span><span class=n>a</span><span class=p>,</span><span class=mi>0203002</span><span class=n>f</span><span class=p>,</span><span class=mi>02030032</span><span class=p>,</span><span class=mi>02030027</span><span class=p>,</span><span class=mi>0203002</span><span class=n>c</span><span class=p>,</span><span class=mi>02030031</span><span class=p>,</span><span class=mi>02030021</span><span class=p>,</span><span class=mi>02030015</span><span class=p>,</span><span class=mi>02030018</span><span class=w>  </span>

<span class=mi>1</span><span class=p>,</span><span class=mi>020304</span><span class=n>UUuu</span><span class=nv>@i0</span><span class=err>:</span><span class=mi>1</span><span class=p>,</span><span class=n>Spannung</span><span class=w> </span><span class=n>L1</span><span class=p>,</span><span class=n>V</span><span class=p>,</span><span class=n>Voltage_L1</span><span class=p>,</span><span class=mi>0</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>020304</span><span class=n>UUuu</span><span class=nv>@i1</span><span class=err>:</span><span class=mi>1</span><span class=p>,</span><span class=n>Spannung</span><span class=w> </span><span class=n>L2</span><span class=p>,</span><span class=n>V</span><span class=p>,</span><span class=n>Voltage_L2</span><span class=p>,</span><span class=mi>0</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>020304</span><span class=n>UUuu</span><span class=nv>@i2</span><span class=err>:</span><span class=mi>1</span><span class=p>,</span><span class=n>Spannung</span><span class=w> </span><span class=n>L3</span><span class=p>,</span><span class=n>V</span><span class=p>,</span><span class=n>Voltage_L3</span><span class=p>,</span><span class=mi>0</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>020304</span><span class=n>xxxxUUuu</span><span class=nv>@i0</span><span class=err>:</span><span class=mi>10</span><span class=p>,</span><span class=n>Strom</span><span class=w> </span><span class=n>L1</span><span class=p>,</span><span class=n>A</span><span class=p>,</span><span class=n>Current_L1</span><span class=p>,</span><span class=mi>2</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>020304</span><span class=n>xxxxUUuu</span><span class=nv>@i1</span><span class=err>:</span><span class=mi>10</span><span class=p>,</span><span class=n>Strom</span><span class=w> </span><span class=n>L2</span><span class=p>,</span><span class=n>A</span><span class=p>,</span><span class=n>Current_L2</span><span class=p>,</span><span class=mi>2</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>020304</span><span class=n>xxxxUUuu</span><span class=nv>@i2</span><span class=err>:</span><span class=mi>10</span><span class=p>,</span><span class=n>Strom</span><span class=w> </span><span class=n>L3</span><span class=p>,</span><span class=n>A</span><span class=p>,</span><span class=n>Current_L3</span><span class=p>,</span><span class=mi>2</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=o>=</span><span class=n>h</span><span class=o>=</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>020304</span><span class=n>UUuu</span><span class=nv>@i3</span><span class=err>:</span><span class=mi>100</span><span class=p>,</span><span class=n>Leistung</span><span class=w> </span><span class=n>L1</span><span class=p>,</span><span class=n>kW</span><span class=p>,</span><span class=n>Power_L1</span><span class=p>,</span><span class=mi>3</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>020304</span><span class=n>UUuu</span><span class=nv>@i4</span><span class=err>:</span><span class=mi>100</span><span class=p>,</span><span class=n>Leistung</span><span class=w> </span><span class=n>L2</span><span class=p>,</span><span class=n>kW</span><span class=p>,</span><span class=n>Power_L2</span><span class=p>,</span><span class=mi>3</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>020304</span><span class=n>UUuu</span><span class=nv>@i5</span><span class=err>:</span><span class=mi>100</span><span class=p>,</span><span class=n>Leistung</span><span class=w> </span><span class=n>L3</span><span class=p>,</span><span class=n>kW</span><span class=p>,</span><span class=n>Power_L3</span><span class=p>,</span><span class=mi>3</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>020304</span><span class=n>UUuu</span><span class=nv>@i6</span><span class=err>:</span><span class=mi>100</span><span class=p>,</span><span class=n>Leistung</span><span class=w> </span><span class=n>Total</span><span class=p>,</span><span class=n>kW</span><span class=p>,</span><span class=n>Power_Total</span><span class=p>,</span><span class=mi>3</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>020304</span><span class=n>xxxxSSss</span><span class=nv>@i3</span><span class=err>:</span><span class=mi>100</span><span class=p>,</span><span class=n>BlindLeistung</span><span class=w> </span><span class=n>L1</span><span class=p>,</span><span class=n>kVAr</span><span class=p>,</span><span class=n>ReaktivePower_L1</span><span class=p>,</span><span class=mi>3</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>020304</span><span class=n>xxxxSSss</span><span class=nv>@i4</span><span class=err>:</span><span class=mi>100</span><span class=p>,</span><span class=n>BlindLeistung</span><span class=w> </span><span class=n>L2</span><span class=p>,</span><span class=n>kVAr</span><span class=p>,</span><span class=n>ReaktivePower_L2</span><span class=p>,</span><span class=mi>3</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>020304</span><span class=n>xxxxSSss</span><span class=nv>@i5</span><span class=err>:</span><span class=mi>100</span><span class=p>,</span><span class=n>BlindLeistung</span><span class=w> </span><span class=n>L3</span><span class=p>,</span><span class=n>kVAr</span><span class=p>,</span><span class=n>ReaktivePower_L3</span><span class=p>,</span><span class=mi>3</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>020304</span><span class=n>xxxxSSss</span><span class=nv>@i6</span><span class=err>:</span><span class=mi>100</span><span class=p>,</span><span class=n>BLeistung</span><span class=w> </span><span class=n>Total</span><span class=p>,</span><span class=n>kVAr</span><span class=p>,</span><span class=n>ReaktivePower_Total</span><span class=p>,</span><span class=mi>3</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=o>=</span><span class=n>h</span><span class=o>=</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>020304</span><span class=n>UUuu</span><span class=nv>@i7</span><span class=err>:</span><span class=mi>100</span><span class=p>,</span><span class=n>CosPhi</span><span class=w> </span><span class=n>L1</span><span class=p>,,</span><span class=n>CosPhi_L1</span><span class=p>,</span><span class=mi>2</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>020304</span><span class=n>UUuu</span><span class=nv>@i8</span><span class=err>:</span><span class=mi>100</span><span class=p>,</span><span class=n>CosPhi</span><span class=w> </span><span class=n>L2</span><span class=p>,,</span><span class=n>CosPhi_L2</span><span class=p>,</span><span class=mi>2</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>020304</span><span class=n>UUuu</span><span class=nv>@i9</span><span class=err>:</span><span class=mi>100</span><span class=p>,</span><span class=n>CosPhi</span><span class=w> </span><span class=n>L3</span><span class=p>,,</span><span class=n>CosPhi_L3</span><span class=p>,</span><span class=mi>2</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=o>=</span><span class=n>h</span><span class=o>=</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>020304</span><span class=n>UUuuUUuu</span><span class=nv>@i10</span><span class=err>:</span><span class=mi>100</span><span class=p>,</span><span class=n>T2</span><span class=w> </span><span class=n>Wert</span><span class=p>,</span><span class=n>kWh</span><span class=p>,</span><span class=n>T2_Value</span><span class=p>,</span><span class=mi>2</span><span class=w>  </span>
<span class=err>#</span><span class=w></span>
</code></pre></div> <h3 id=2-sbc-ale3-modbus>2 * SBC ALE3 MODBUS<a class=headerlink href=#2-sbc-ale3-modbus title="Permanent link">~</a></h3> <div class=codehilite><pre><span></span><code><span class=o>&gt;</span><span class=n>D</span><span class=w>  </span>
<span class=o>&gt;</span><span class=n>B</span><span class=w>  </span>
<span class=o>-&gt;</span><span class=n>sensor53</span><span class=w> </span><span class=n>r</span><span class=w>  </span>
<span class=o>&gt;</span><span class=n>M</span><span class=w> </span><span class=mi>1</span><span class=w>  </span>
<span class=o>+</span><span class=mi>1</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=n>M</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>9600</span><span class=p>,</span><span class=n>Meter</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>01030023</span><span class=p>,</span><span class=mi>01030028</span><span class=p>,</span><span class=mi>0103002</span><span class=n>d</span><span class=p>,</span><span class=mi>01030025</span><span class=p>,</span><span class=mi>0103002</span><span class=n>a</span><span class=p>,</span><span class=mi>0103002</span><span class=n>f</span><span class=p>,</span><span class=mi>01030032</span><span class=p>,</span><span class=mi>01030027</span><span class=p>,</span><span class=mi>0103002</span><span class=n>c</span><span class=p>,</span><span class=mi>01030031</span><span class=p>,</span><span class=mi>0103001</span><span class=n>B</span><span class=p>,</span><span class=mi>0103001</span><span class=n>d</span><span class=p>,</span><span class=mi>03030023</span><span class=p>,</span><span class=mi>03030028</span><span class=p>,</span><span class=mi>0303002</span><span class=n>d</span><span class=p>,</span><span class=mi>03030025</span><span class=p>,</span><span class=mi>0303002</span><span class=n>a</span><span class=p>,</span><span class=mi>0303002</span><span class=n>f</span><span class=p>,</span><span class=mi>03030032</span><span class=p>,</span><span class=mi>03030027</span><span class=p>,</span><span class=mi>0303002</span><span class=n>c</span><span class=p>,</span><span class=mi>03030031</span><span class=p>,</span><span class=mi>0303001</span><span class=n>B</span><span class=p>,</span><span class=mi>0303001</span><span class=n>d</span><span class=w>  </span>

<span class=mi>1</span><span class=p>,</span><span class=o>=</span><span class=n>h</span><span class=w> </span><span class=n>Domestic</span><span class=w> </span><span class=nl>Electricity</span><span class=p>:</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>010304</span><span class=n>UUuuUUuu</span><span class=nv>@i10</span><span class=err>:</span><span class=mi>100</span><span class=p>,</span><span class=mi>1</span><span class=w> </span><span class=n>Tariff</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=n>total</span><span class=p>,</span><span class=n>kWh</span><span class=p>,</span><span class=n>M1_T1_total</span><span class=p>,</span><span class=mi>2</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>010304</span><span class=n>UUuuUUuu</span><span class=nv>@i11</span><span class=err>:</span><span class=mi>100</span><span class=p>,</span><span class=mi>1</span><span class=w> </span><span class=n>Tariff</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=k>partial</span><span class=p>,</span><span class=n>kWh</span><span class=p>,</span><span class=n>M1_T1_par</span><span class=p>,</span><span class=mi>2</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=o>=</span><span class=n>h</span><span class=w> </span><span class=nl>Readings</span><span class=p>:</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>010304</span><span class=n>UUuu</span><span class=nv>@i0</span><span class=err>:</span><span class=mi>1</span><span class=p>,</span><span class=mi>1</span><span class=w> </span><span class=n>Voltage</span><span class=w> </span><span class=n>L1</span><span class=p>,</span><span class=n>V</span><span class=p>,</span><span class=n>M1_Voltage_L1</span><span class=p>,</span><span class=mi>0</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>010304</span><span class=n>UUuu</span><span class=nv>@i1</span><span class=err>:</span><span class=mi>1</span><span class=p>,</span><span class=mi>1</span><span class=w> </span><span class=n>Voltage</span><span class=w> </span><span class=n>L2</span><span class=p>,</span><span class=n>V</span><span class=p>,</span><span class=n>M1_Voltage_L2</span><span class=p>,</span><span class=mi>0</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>010304</span><span class=n>UUuu</span><span class=nv>@i2</span><span class=err>:</span><span class=mi>1</span><span class=p>,</span><span class=mi>1</span><span class=w> </span><span class=n>Voltage</span><span class=w> </span><span class=n>L3</span><span class=p>,</span><span class=n>V</span><span class=p>,</span><span class=n>M1_Voltage_L3</span><span class=p>,</span><span class=mi>0</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>010304</span><span class=n>xxxxUUuu</span><span class=nv>@i0</span><span class=err>:</span><span class=mi>10</span><span class=p>,</span><span class=mi>1</span><span class=w> </span><span class=k>Current</span><span class=w> </span><span class=n>L1</span><span class=p>,</span><span class=n>A</span><span class=p>,</span><span class=n>M1_Current_L1</span><span class=p>,</span><span class=mi>2</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>010304</span><span class=n>xxxxUUuu</span><span class=nv>@i1</span><span class=err>:</span><span class=mi>10</span><span class=p>,</span><span class=mi>1</span><span class=w> </span><span class=k>Current</span><span class=w> </span><span class=n>L2</span><span class=p>,</span><span class=n>A</span><span class=p>,</span><span class=n>M1_Current_L2</span><span class=p>,</span><span class=mi>2</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>010304</span><span class=n>xxxxUUuu</span><span class=nv>@i2</span><span class=err>:</span><span class=mi>10</span><span class=p>,</span><span class=mi>1</span><span class=w> </span><span class=k>Current</span><span class=w> </span><span class=n>L3</span><span class=p>,</span><span class=n>A</span><span class=p>,</span><span class=n>M1_Current_L3</span><span class=p>,</span><span class=mi>2</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>010304</span><span class=n>UUuu</span><span class=nv>@i3</span><span class=err>:</span><span class=mi>100</span><span class=p>,</span><span class=mi>1</span><span class=w> </span><span class=n>Active</span><span class=w> </span><span class=nf>Power</span><span class=w> </span><span class=n>L1</span><span class=p>,</span><span class=n>kW</span><span class=p>,</span><span class=n>M1_PRMS_L1</span><span class=p>,</span><span class=mi>3</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>010304</span><span class=n>UUuu</span><span class=nv>@i4</span><span class=err>:</span><span class=mi>100</span><span class=p>,</span><span class=mi>1</span><span class=w> </span><span class=n>Active</span><span class=w> </span><span class=nf>Power</span><span class=w> </span><span class=n>L2</span><span class=p>,</span><span class=n>kW</span><span class=p>,</span><span class=n>M1_PRMS_L2</span><span class=p>,</span><span class=mi>3</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>010304</span><span class=n>UUuu</span><span class=nv>@i5</span><span class=err>:</span><span class=mi>100</span><span class=p>,</span><span class=mi>1</span><span class=w> </span><span class=n>Active</span><span class=w> </span><span class=nf>Power</span><span class=w> </span><span class=n>L3</span><span class=p>,</span><span class=n>kW</span><span class=p>,</span><span class=n>M1_PRMS_L3</span><span class=p>,</span><span class=mi>3</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>010304</span><span class=n>UUuu</span><span class=nv>@i6</span><span class=err>:</span><span class=mi>100</span><span class=p>,</span><span class=mi>1</span><span class=w> </span><span class=n>Active</span><span class=w> </span><span class=nf>Power</span><span class=w> </span><span class=n>total</span><span class=p>,</span><span class=n>kW</span><span class=p>,</span><span class=n>M1_PRMS_total</span><span class=p>,</span><span class=mi>3</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>010304</span><span class=n>xxxxSSss</span><span class=nv>@i3</span><span class=err>:</span><span class=mi>100</span><span class=p>,</span><span class=mi>1</span><span class=w> </span><span class=n>Reactive</span><span class=w> </span><span class=nf>Power</span><span class=w> </span><span class=n>L1</span><span class=p>,</span><span class=n>kVAr</span><span class=p>,</span><span class=n>M1_QRMS_L1</span><span class=p>,</span><span class=mi>3</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>010304</span><span class=n>xxxxSSss</span><span class=nv>@i4</span><span class=err>:</span><span class=mi>100</span><span class=p>,</span><span class=mi>1</span><span class=w> </span><span class=n>Reactive</span><span class=w> </span><span class=nf>Power</span><span class=w> </span><span class=n>L2</span><span class=p>,</span><span class=n>kVAr</span><span class=p>,</span><span class=n>M1_QRMS_L2</span><span class=p>,</span><span class=mi>3</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>010304</span><span class=n>xxxxSSss</span><span class=nv>@i5</span><span class=err>:</span><span class=mi>100</span><span class=p>,</span><span class=mi>1</span><span class=w> </span><span class=n>Reactive</span><span class=w> </span><span class=nf>Power</span><span class=w> </span><span class=n>L3</span><span class=p>,</span><span class=n>kVAr</span><span class=p>,</span><span class=n>M1_QRMS_L3</span><span class=p>,</span><span class=mi>3</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>010304</span><span class=n>xxxxSSss</span><span class=nv>@i6</span><span class=err>:</span><span class=mi>100</span><span class=p>,</span><span class=mi>1</span><span class=w> </span><span class=n>Reactive</span><span class=w> </span><span class=nf>Power</span><span class=w> </span><span class=n>total</span><span class=p>,</span><span class=n>kVAr</span><span class=p>,</span><span class=n>M1_QRMS_total</span><span class=p>,</span><span class=mi>3</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>010304</span><span class=n>UUuu</span><span class=nv>@i7</span><span class=err>:</span><span class=mi>100</span><span class=p>,</span><span class=mi>1</span><span class=w> </span><span class=n>CosPhi</span><span class=w> </span><span class=n>L1</span><span class=p>,,</span><span class=n>M1_CosPhi_L1</span><span class=p>,</span><span class=mi>2</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>010304</span><span class=n>UUuu</span><span class=nv>@i8</span><span class=err>:</span><span class=mi>100</span><span class=p>,</span><span class=mi>1</span><span class=w> </span><span class=n>CosPhi</span><span class=w> </span><span class=n>L2</span><span class=p>,,</span><span class=n>M1_CosPhi_L2</span><span class=p>,</span><span class=mi>2</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>010304</span><span class=n>UUuu</span><span class=nv>@i9</span><span class=err>:</span><span class=mi>100</span><span class=p>,</span><span class=mi>1</span><span class=w> </span><span class=n>CosPhi</span><span class=w> </span><span class=n>L3</span><span class=p>,,</span><span class=n>M1_CosPhi_L3</span><span class=p>,</span><span class=mi>2</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=o>=</span><span class=n>h________________________________________________</span><span class=w>  </span>
<span class=p>;</span><span class=w> </span><span class=n>meter</span><span class=w> </span><span class=mi>2</span><span class=w> </span><span class=o>+</span><span class=mi>12</span><span class=w> </span><span class=n>offset</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=o>=</span><span class=n>h</span><span class=w> </span><span class=n>Heat</span><span class=w> </span><span class=n>Pump</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>030304</span><span class=n>UUuuUUuu</span><span class=nv>@i22</span><span class=err>:</span><span class=mi>100</span><span class=p>,</span><span class=mi>2</span><span class=w> </span><span class=n>Tariff</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=n>total</span><span class=p>,</span><span class=n>kWh</span><span class=p>,</span><span class=n>M2_T1_total</span><span class=p>,</span><span class=mi>2</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>030304</span><span class=n>UUuuUUuu</span><span class=nv>@i23</span><span class=err>:</span><span class=mi>100</span><span class=p>,</span><span class=mi>2</span><span class=w> </span><span class=n>Tariff</span><span class=w> </span><span class=mi>1</span><span class=w> </span><span class=k>partial</span><span class=p>,</span><span class=n>kWh</span><span class=p>,</span><span class=n>M2_T1_par</span><span class=p>,</span><span class=mi>2</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=o>=</span><span class=n>h</span><span class=w> </span><span class=nl>Readings</span><span class=p>:</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>030304</span><span class=n>UUuu</span><span class=nv>@i12</span><span class=err>:</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=w> </span><span class=n>Voltage</span><span class=w> </span><span class=n>L1</span><span class=p>,</span><span class=n>V</span><span class=p>,</span><span class=n>M2_Voltage_L1</span><span class=p>,</span><span class=mi>0</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>030304</span><span class=n>UUuu</span><span class=nv>@i13</span><span class=err>:</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=w> </span><span class=n>Voltage</span><span class=w> </span><span class=n>L2</span><span class=p>,</span><span class=n>V</span><span class=p>,</span><span class=n>M2_Voltage_L2</span><span class=p>,</span><span class=mi>0</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>030304</span><span class=n>UUuu</span><span class=nv>@i14</span><span class=err>:</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=w> </span><span class=n>Voltage</span><span class=w> </span><span class=n>L3</span><span class=p>,</span><span class=n>V</span><span class=p>,</span><span class=n>M2_Voltage_L3</span><span class=p>,</span><span class=mi>0</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>030304</span><span class=n>xxxxUUuu</span><span class=nv>@i12</span><span class=err>:</span><span class=mi>10</span><span class=p>,</span><span class=mi>2</span><span class=w> </span><span class=k>Current</span><span class=w> </span><span class=n>L1</span><span class=p>,</span><span class=n>A</span><span class=p>,</span><span class=n>M2_Current_L1</span><span class=p>,</span><span class=mi>2</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>030304</span><span class=n>xxxxUUuu</span><span class=nv>@i13</span><span class=err>:</span><span class=mi>10</span><span class=p>,</span><span class=mi>2</span><span class=w> </span><span class=k>Current</span><span class=w> </span><span class=n>L2</span><span class=p>,</span><span class=n>A</span><span class=p>,</span><span class=n>M2_Current_L2</span><span class=p>,</span><span class=mi>2</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>030304</span><span class=n>xxxxUUuu</span><span class=nv>@i14</span><span class=err>:</span><span class=mi>10</span><span class=p>,</span><span class=mi>2</span><span class=w> </span><span class=k>Current</span><span class=w> </span><span class=n>L3</span><span class=p>,</span><span class=n>A</span><span class=p>,</span><span class=n>M2_Current_L3</span><span class=p>,</span><span class=mi>2</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>030304</span><span class=n>UUuu</span><span class=nv>@i15</span><span class=err>:</span><span class=mi>100</span><span class=p>,</span><span class=mi>2</span><span class=w> </span><span class=n>Active</span><span class=w> </span><span class=nf>Power</span><span class=w> </span><span class=n>L1</span><span class=p>,</span><span class=n>kW</span><span class=p>,</span><span class=n>M2_PRMS_L1</span><span class=p>,</span><span class=mi>3</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>030304</span><span class=n>UUuu</span><span class=nv>@i16</span><span class=err>:</span><span class=mi>100</span><span class=p>,</span><span class=mi>2</span><span class=w> </span><span class=n>Active</span><span class=w> </span><span class=nf>Power</span><span class=w> </span><span class=n>L2</span><span class=p>,</span><span class=n>kW</span><span class=p>,</span><span class=n>M2_PRMS_L2</span><span class=p>,</span><span class=mi>3</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>030304</span><span class=n>UUuu</span><span class=nv>@i17</span><span class=err>:</span><span class=mi>100</span><span class=p>,</span><span class=mi>2</span><span class=w> </span><span class=n>Active</span><span class=w> </span><span class=nf>Power</span><span class=w> </span><span class=n>L3</span><span class=p>,</span><span class=n>kW</span><span class=p>,</span><span class=n>M2_PRMS_L3</span><span class=p>,</span><span class=mi>3</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>030304</span><span class=n>UUuu</span><span class=nv>@i18</span><span class=err>:</span><span class=mi>100</span><span class=p>,</span><span class=mi>2</span><span class=w> </span><span class=n>Active</span><span class=w> </span><span class=nf>Power</span><span class=w> </span><span class=n>total</span><span class=p>,</span><span class=n>kW</span><span class=p>,</span><span class=n>M2_PRMS_total</span><span class=p>,</span><span class=mi>3</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>030304</span><span class=n>xxxxSSss</span><span class=nv>@i15</span><span class=err>:</span><span class=mi>100</span><span class=p>,</span><span class=mi>2</span><span class=w> </span><span class=n>Reactive</span><span class=w> </span><span class=nf>Power</span><span class=w> </span><span class=n>L1</span><span class=p>,</span><span class=n>kVAr</span><span class=p>,</span><span class=n>M2_QRMS_L1</span><span class=p>,</span><span class=mi>3</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>030304</span><span class=n>xxxxSSss</span><span class=nv>@i16</span><span class=err>:</span><span class=mi>100</span><span class=p>,</span><span class=mi>2</span><span class=w> </span><span class=n>Reactive</span><span class=w> </span><span class=nf>Power</span><span class=w> </span><span class=n>L2</span><span class=p>,</span><span class=n>kVAr</span><span class=p>,</span><span class=n>M2_QRMS_L2</span><span class=p>,</span><span class=mi>3</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>030304</span><span class=n>xxxxSSss</span><span class=nv>@i16</span><span class=err>:</span><span class=mi>100</span><span class=p>,</span><span class=mi>2</span><span class=w> </span><span class=n>Reactive</span><span class=w> </span><span class=nf>Power</span><span class=w> </span><span class=n>L3</span><span class=p>,</span><span class=n>kVAr</span><span class=p>,</span><span class=n>M2_QRMS_L3</span><span class=p>,</span><span class=mi>3</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>030304</span><span class=n>xxxxSSss</span><span class=nv>@i18</span><span class=err>:</span><span class=mi>100</span><span class=p>,</span><span class=mi>2</span><span class=w> </span><span class=n>Reactive</span><span class=w> </span><span class=nf>Power</span><span class=w> </span><span class=n>total</span><span class=p>,</span><span class=n>kVAr</span><span class=p>,</span><span class=n>M2_QRMS_total</span><span class=p>,</span><span class=mi>3</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>030304</span><span class=n>UUuu</span><span class=nv>@i19</span><span class=err>:</span><span class=mi>100</span><span class=p>,</span><span class=mi>2</span><span class=w> </span><span class=n>CosPhi</span><span class=w> </span><span class=n>L1</span><span class=p>,,</span><span class=n>M2_CosPhi_L1</span><span class=p>,</span><span class=mi>2</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>030304</span><span class=n>UUuu</span><span class=nv>@i20</span><span class=err>:</span><span class=mi>100</span><span class=p>,</span><span class=mi>2</span><span class=w> </span><span class=n>CosPhi</span><span class=w> </span><span class=n>L2</span><span class=p>,,</span><span class=n>M2_CosPhi_L2</span><span class=p>,</span><span class=mi>2</span><span class=w>  </span>
<span class=mi>1</span><span class=p>,</span><span class=mi>030304</span><span class=n>UUuu</span><span class=nv>@i21</span><span class=err>:</span><span class=mi>100</span><span class=p>,</span><span class=mi>2</span><span class=w> </span><span class=n>CosPhi</span><span class=w> </span><span class=n>L3</span><span class=p>,,</span><span class=n>M2_CosPhi_L3</span><span class=p>,</span><span class=mi>2</span><span class=w>  </span>
<span class=err>#</span><span class=w>  </span>
</code></pre></div> <h3 id=4-hiking-dds238-2-zns3-modbus>4 * Hiking DDS238-2 ZN/S3 MODBUS<a class=headerlink href=#4-hiking-dds238-2-zns3-modbus title="Permanent link">~</a></h3> <p>This is an example for 4 MODBUS devices on the same bus </p> <p><img alt=94788926-930d3b00-03d4-11eb-8951-7b379c65f9ca src=https://user-images.githubusercontent.com/11647075/94828106-6cb5c280-0409-11eb-9f8c-c907b56a6707.png></p> <p><img alt=94792441-45470180-03d9-11eb-86a2-0c79506226fc src=https://user-images.githubusercontent.com/11647075/94828277-95d65300-0409-11eb-9cd0-1d647179f875.png></p> <div class=codehilite><pre><span></span><code><span class=err>&gt;D  </span>
<span class=err>&gt;B </span>
<span class=err>-&gt;sensor53 r</span>
<span class=err>&gt;`&gt;M 1`  </span>
<span class=err>&gt;  </span>
<span class=err>+1,3,m,1,9600,Hiking,1,10,0103000c,0103000e,0303000c,0303000e,0403000c,0403000e,0503000c,0503000e  </span>
<span class=err>;---&gt; two groups of registrers for each device --&gt; default 2 registers returned ---&gt; 4 values per device  </span>
<span class=err>1,=h Contatore 1  </span>
<span class=err>1,010304UUuu@i0:10,C1_Voltage,V,C1Voltage,1  </span>
<span class=err>;---&gt; decoder for the first registry returned for the first group  </span>
<span class=err>1,010304xxxxUUuu@i0:1000,C1_Current,A,C1Current,3  </span>
<span class=err>;---&gt; decoder for the second registry returned for the first group  </span>
<span class=err>1,010304SSss@i1:1,C1_ActivePower,W,C1ActivePower,0  </span>
<span class=err>1,010304xxxxUUuu@i1:1,C1_ReactivePower,Var,C1ReactivePower,0  </span>
<span class=err>1,=h Contatore 3  </span>
<span class=err>1,030304UUuu@i2:10,C3_Voltage,V,C3Voltage,1  </span>
<span class=err>1,030304xxxxUUuu@i2:1000,C3_Current,A,C3Current,3  </span>
<span class=err>1,030304SSss@i3:1,C3_ActivePower,W,C3ActivePower,0  </span>
<span class=err>1,030304xxxxUUuu@i3:1,C3_ReactivePower,Var,C3ReactivePower,0  </span>
<span class=err>1,=h Contatore 4  </span>
<span class=err>1,040304UUuu@i4:10,C4_Voltage,V,C4Voltage,1  </span>
<span class=err>1,040304xxxxUUuu@i4:1000,C4_Current,A,C4Current,3  </span>
<span class=err>1,040304SSss@i5:1,C4_ActivePower,W,C4ActivePower,0  </span>
<span class=err>1,040304xxxxUUuu@i5:1,C4_ReactivePower,Var,C4ReactivePower,0  </span>
<span class=err>1,=h Contatore 5  </span>
<span class=err>1,050304UUuu@i6:10,C5_Voltage,V,C5Voltage,1  </span>
<span class=err>1,050304xxxxUUuu@i6:1000,C5_Current,A,C5Current,3  </span>
<span class=err>1,050304SSss@i7:1,C5_ActivePower,W,C5ActivePower,0  </span>
<span class=err>1,050304xxxxUUuu@i7:1,C5_ReactivePower,Var,C5ReactivePower,0  </span>
<span class=err>#  </span>
</code></pre></div> <h3 id=trovis-557x>Trovis 557x<a class=headerlink href=#trovis-557x title="Permanent link">~</a></h3> <p>These heating regulators have a <a href=https://raw.githubusercontent.com/Tom-Bom-badil/samson_trovis_557x/master/_register.py>lot of registers</a>.</p> <div class=codehilite><pre><span></span><code><span class=o>&gt;</span><span class=n>D</span>
<span class=o>&gt;</span><span class=n>B</span>
<span class=o>-&gt;</span><span class=n>sensor53</span> <span class=n>r</span>
<span class=o>&gt;</span><span class=n>M</span> <span class=mi>1</span>
<span class=o>+</span><span class=mi>1</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=n>m</span><span class=p>,</span><span class=mi>0</span><span class=p>,</span><span class=mi>19200</span><span class=p>,</span><span class=n>Trovis</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=n>rF7030009000E</span><span class=p>,</span><span class=n>rF703001C0004</span><span class=p>,</span><span class=n>F703006A</span>
<span class=mi>1</span><span class=p>,</span><span class=n>F7031CUUuu</span><span class=err>@</span><span class=n>i0</span><span class=p>:</span><span class=mi>10</span><span class=p>,</span><span class=n>Außentemp</span><span class=o>.</span><span class=p>,</span><span class=err>°</span><span class=n>C</span><span class=p>,</span><span class=n>Temp_Outside</span><span class=p>,</span><span class=mi>1</span>
<span class=mi>1</span><span class=p>,</span><span class=n>F7031CxxxxxxxxxxxxUUuu</span><span class=err>@</span><span class=n>i0</span><span class=p>:</span><span class=mi>10</span><span class=p>,</span><span class=n>Vorlauftemp</span><span class=o>.</span><span class=p>,</span><span class=err>°</span><span class=n>C</span><span class=p>,</span><span class=n>Temp_Flow</span><span class=p>,</span><span class=mi>1</span>
<span class=mi>1</span><span class=p>,</span><span class=n>F7031CxxxxxxxxxxxxxxxxxxxxxxxxxxxxUUuu</span><span class=err>@</span><span class=n>i0</span><span class=p>:</span><span class=mi>10</span><span class=p>,</span><span class=n>Rücklauftemp</span><span class=o>.</span><span class=p>,</span><span class=err>°</span><span class=n>C</span><span class=p>,</span><span class=n>Temp_Return</span><span class=p>,</span><span class=mi>1</span>
<span class=mi>1</span><span class=p>,</span><span class=n>F7031CxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxUUuu</span><span class=err>@</span><span class=n>i0</span><span class=p>:</span><span class=mi>10</span><span class=p>,</span><span class=n>Speichertemp</span><span class=o>.</span><span class=p>,</span><span class=err>°</span><span class=n>C</span><span class=p>,</span><span class=n>Temp_Vessel</span><span class=p>,</span><span class=mi>1</span>
<span class=mi>1</span><span class=p>,</span><span class=n>F70308UUuu</span><span class=err>@</span><span class=n>i1</span><span class=p>:</span><span class=mi>1</span><span class=p>,</span><span class=n>MesswertImp</span><span class=o>-</span><span class=n>h</span><span class=p>,</span><span class=n>imp</span><span class=o>/</span><span class=n>h</span><span class=p>,</span><span class=n>Metric_ImpH</span><span class=p>,</span><span class=mi>0</span>
<span class=mi>1</span><span class=p>,</span><span class=n>F70308xxxxUUuu</span><span class=err>@</span><span class=n>i1</span><span class=p>:</span><span class=mi>100</span><span class=p>,</span><span class=n>Messwertm3</span><span class=o>-</span><span class=n>h</span><span class=p>,</span><span class=n>m³</span><span class=o>/</span><span class=n>h</span><span class=p>,</span><span class=n>Metric_M3H</span><span class=p>,</span><span class=mi>2</span>
<span class=mi>1</span><span class=p>,</span><span class=n>F70308xxxxxxxxUUuu</span><span class=err>@</span><span class=n>i1</span><span class=p>:</span><span class=mi>10</span><span class=p>,</span><span class=n>AA10</span><span class=o>-</span><span class=mi>10</span><span class=n>V</span><span class=p>,</span><span class=n>V</span><span class=p>,</span><span class=n>Metric_AA10</span><span class=p>,</span><span class=mi>1</span>
<span class=mi>1</span><span class=p>,</span><span class=n>F70308xxxxxxxxxxxxUUuu</span><span class=err>@</span><span class=n>i1</span><span class=p>:</span><span class=mi>10</span><span class=p>,</span><span class=n>AA20</span><span class=o>-</span><span class=mi>10</span><span class=n>V</span><span class=p>,</span><span class=n>V</span><span class=p>,</span><span class=n>Metric_AA20</span><span class=p>,</span><span class=mi>1</span>
<span class=mi>1</span><span class=p>,</span><span class=n>F70304UUuu</span><span class=err>@</span><span class=n>i2</span><span class=p>:</span><span class=mi>1</span><span class=p>,</span><span class=n>StellsignalRk1</span><span class=p>,</span><span class=o>%</span><span class=p>,</span><span class=n>CtrlSig_RK1</span><span class=p>,</span><span class=mi>0</span>
<span class=c1>#</span>
</code></pre></div> <hr> </article> </div> </div> </main> <footer class=md-footer> <div class=md-footer-nav> <nav class="md-footer-nav__inner md-grid" aria-label=Footer> <a href=../Blinds-and-Shutters/ class="md-footer-nav__link md-footer-nav__link--prev" rel=prev> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </div> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Previous </span> Shutters and Blinds </div> </div> </a> <a href=../Subscribe-%26-Unsubscribe/ class="md-footer-nav__link md-footer-nav__link--next" rel=next> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Next </span> Subscribe & Unsubscribe </div> </div> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg> </div> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-footer-social> <a href=https://discord.gg/Ks2Kzd4 target=_blank rel=noopener title=discord.gg class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M297.216 243.2c0 15.616-11.52 28.416-26.112 28.416-14.336 0-26.112-12.8-26.112-28.416s11.52-28.416 26.112-28.416c14.592 0 26.112 12.8 26.112 28.416zm-119.552-28.416c-14.592 0-26.112 12.8-26.112 28.416s11.776 28.416 26.112 28.416c14.592 0 26.112-12.8 26.112-28.416.256-15.616-11.52-28.416-26.112-28.416zM448 52.736V512c-64.494-56.994-43.868-38.128-118.784-107.776l13.568 47.36H52.48C23.552 451.584 0 428.032 0 398.848V52.736C0 23.552 23.552 0 52.48 0h343.04C424.448 0 448 23.552 448 52.736zm-72.96 242.688c0-82.432-36.864-149.248-36.864-149.248-36.864-27.648-71.936-26.88-71.936-26.88l-3.584 4.096c43.52 13.312 63.744 32.512 63.744 32.512-60.811-33.329-132.244-33.335-191.232-7.424-9.472 4.352-15.104 7.424-15.104 7.424s21.248-20.224 67.328-33.536l-2.56-3.072s-35.072-.768-71.936 26.88c0 0-36.864 66.816-36.864 149.248 0 0 21.504 37.12 78.08 38.912 0 0 9.472-11.52 17.152-21.248-32.512-9.728-44.8-30.208-44.8-30.208 3.766 2.636 9.976 6.053 10.496 6.4 43.21 24.198 104.588 32.126 159.744 8.96 8.96-3.328 18.944-8.192 29.44-15.104 0 0-12.8 20.992-46.336 30.464 7.68 9.728 16.896 20.736 16.896 20.736 56.576-1.792 78.336-38.912 78.336-38.912z"/></svg> </a> <a href=https://t.me/tasmota target=_blank rel=noopener title=t.me class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><path d="M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm121.8 169.9l-40.7 191.8c-3 13.6-11.1 16.9-22.4 10.5l-62-45.7-29.9 28.8c-3.3 3.3-6.1 6.1-12.5 6.1l4.4-63.1 114.9-103.8c5-4.4-1.1-6.9-7.7-2.5l-142 89.4-61.2-19.1c-13.3-4.2-13.6-13.3 2.8-19.7l239.1-92.2c11.1-4 20.8 2.7 17.2 19.5z"/></svg> </a> <a href=https://github.com/tasmota target=_blank rel=noopener title=github.com class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 480 512"><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg> </a> </div> </div> </div> </footer> </div> <script src=../assets/javascripts/vendor.7e0ee788.min.js></script> <script src=../assets/javascripts/bundle.b3a72adc.min.js></script><script id=__lang type=application/json>{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script> <script>
        app = initialize({
          base: "..",
          features: ['navigation.tabs', 'navigation.instant'],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.4ac00218.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script> </body> </html>
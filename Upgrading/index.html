<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Easily upgrade Tasmota to a newer version or different build while keeping all your settings"><link href=https://tasmota.github.io/docs/Upgrading/ rel=canonical><link rel="shortcut icon" href=../_media/favicon.ico><meta name=generator content="mkdocs-1.1.2, mkdocs-material-6.2.3"><title>Upgrading - Tasmota</title><link rel=stylesheet href=../assets/stylesheets/main.3b61ea93.min.css><link rel=stylesheet href=../assets/stylesheets/palette.39b8e14a.min.css><meta name=theme-color content=#2094f3><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Barlow:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>body,input{font-family:"Barlow",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style><link rel=stylesheet href=../assets/css/anchor-fix.css><script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-140681905-2","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}),document.addEventListener("DOMContentSwitch",function(){ga("send","pageview",document.location.pathname)})</script><script async src=https://www.google-analytics.com/analytics.js></script></head> <body dir=ltr data-md-color-scheme=preference data-md-color-primary=blue data-md-color-accent=indigo> <script>matchMedia("(prefers-color-scheme: dark)").matches&&document.body.setAttribute("data-md-color-scheme","slate")</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#gz-binaries class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid" aria-label=Header> <a href=https://tasmota.github.io/docs/ title=Tasmota class="md-header-nav__button md-logo" aria-label=Tasmota> <img src=../_media/logo.svg alt=logo> </a> <label class="md-header-nav__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header-nav__title data-md-component=header-title> <div class=md-header-nav__ellipsis> <div class=md-header-nav__topic> <span class=md-ellipsis> Tasmota </span> </div> <div class=md-header-nav__topic> <span class=md-ellipsis> Upgrading </span> </div> </div> </div> <label class="md-header-nav__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query data-md-state=active required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <button type=reset class="md-search__icon md-icon" aria-label=Clear data-md-component=search-reset tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header-nav__source> <a href=https://github.com/arendst/tasmota/ title="Go to repository" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg> </div> <div class=md-source__repository> arendst/tasmota </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../About/ class=md-tabs__link> About </a> </li> <li class=md-tabs__item> <a href=../Getting-Started/ class=md-tabs__link> Getting Started </a> </li> <li class=md-tabs__item> <a href=./ class="md-tabs__link md-tabs__link--active"> Upgrading </a> </li> <li class=md-tabs__item> <a href=../MQTT/ class=md-tabs__link> MQTT </a> </li> <li class=md-tabs__item> <a href=../Commands/ class=md-tabs__link> Commands </a> </li> <li class=md-tabs__item> <a href=../Templates/ class=md-tabs__link> Templates </a> </li> <li class=md-tabs__item> <a href=../Components/ class=md-tabs__link> Components </a> </li> <li class=md-tabs__item> <a href=../Modules/ class=md-tabs__link> Modules </a> </li> <li class=md-tabs__item> <a href=../Peripherals/ class=md-tabs__link> Peripherals </a> </li> <li class=md-tabs__item> <a href=../WebUI/ class=md-tabs__link> WebUI </a> </li> <li class=md-tabs__item> <a href=../Features/ class=md-tabs__link> Features </a> </li> <li class=md-tabs__item> <a href=../Integrations/ class=md-tabs__link> Smart Home Integrations </a> </li> <li class=md-tabs__item> <a href=../Supported-Peripherals/ class=md-tabs__link> Peripherals </a> </li> <li class=md-tabs__item> <a href=../Configuration-Procedure-for-New-Devices/ class=md-tabs__link> Supported Devices </a> </li> <li class=md-tabs__item> <a href=../FAQ/ class=md-tabs__link> Help </a> </li> <li class=md-tabs__item> <a href=../Builds/ class=md-tabs__link> Builds </a> </li> <li class=md-tabs__item> <a href=../Compile-your-build/ class=md-tabs__link> Compiling </a> </li> <li class=md-tabs__item> <a href=../Contributing/ class=md-tabs__link> Contributing </a> </li> <li class=md-tabs__item> <a href="http://ota.tasmota.com/tasmota/release/ " target='_blank""' class=md-tabs__link> Download </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=https://tasmota.github.io/docs/ title=Tasmota class="md-nav__button md-logo" aria-label=Tasmota> <img src=../_media/logo.svg alt=logo> </a> Tasmota </label> <div class=md-nav__source> <a href=https://github.com/arendst/tasmota/ title="Go to repository" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg> </div> <div class=md-source__repository> arendst/tasmota </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. class=md-nav__link> Home </a> </li> <li class=md-nav__item> <a href=../About/ class=md-nav__link> About </a> </li> <li class=md-nav__item> <a href=../Getting-Started/ class=md-nav__link> Getting Started </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Upgrading <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Upgrading </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#gz-binaries class=md-nav__link> .gz binaries </a> </li> <li class=md-nav__item> <a href=#upgrade-flow class=md-nav__link> Upgrade Flow </a> </li> <li class=md-nav__item> <a href=#upgrade-using-webui class=md-nav__link> Upgrade using webUI </a> <nav class=md-nav aria-label="Upgrade using webUI"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#upgrade-by-web-server class=md-nav__link> Upgrade by web server </a> </li> <li class=md-nav__item> <a href=#upgrade-by-file-upload class=md-nav__link> Upgrade by file upload </a> </li> <li class=md-nav__item> <a href=#upload-buffer-miscompare-error class=md-nav__link> Upload Buffer Miscompare Error </a> </li> <li class=md-nav__item> <a href=#using-commands class=md-nav__link> Using Commands </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#serial-upgrade class=md-nav__link> Serial Upgrade </a> </li> <li class=md-nav__item> <a href=#external-programs class=md-nav__link> External Programs </a> <nav class=md-nav aria-label="External Programs"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#private-ota-server class=md-nav__link> Private OTA Server </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#migration-path class=md-nav__link> Migration Path </a> </li> <li class=md-nav__item> <a href=#downgrading class=md-nav__link> Downgrading </a> </li> <li class=md-nav__item> <a href=#backing-up-settings class=md-nav__link> Backing Up Settings </a> </li> <li class=md-nav__item> <a href=#decode-config-tool class=md-nav__link> decode-config tool </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../MQTT/ class=md-nav__link> MQTT </a> </li> <li class=md-nav__item> <a href=../Commands/ class=md-nav__link> Commands </a> </li> <li class=md-nav__item> <a href=../Templates/ class=md-nav__link> Templates </a> </li> <li class=md-nav__item> <a href=../Components/ class=md-nav__link> Components </a> </li> <li class=md-nav__item> <a href=../Modules/ class=md-nav__link> Modules </a> </li> <li class=md-nav__item> <a href=../Peripherals/ class=md-nav__link> Peripherals </a> </li> <li class=md-nav__item> <a href=../WebUI/ class=md-nav__link> WebUI </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-12 type=checkbox id=nav-12> <label class=md-nav__link for=nav-12> Features <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Features data-md-level=1> <label class=md-nav__title for=nav-12> <span class="md-nav__icon md-icon"></span> Features </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Features/ class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=../Bluetooth/ class=md-nav__link> Bluetooth </a> </li> <li class=md-nav__item> <a href=../Buttons-and-Switches/ class=md-nav__link> Buttons and Switches </a> </li> <li class=md-nav__item> <a href=../DeepSleep/ class=md-nav__link> DeepSleep </a> </li> <li class=md-nav__item> <a href=../Device-Groups/ class=md-nav__link> Device Groups </a> </li> <li class=md-nav__item> <a href=../Dynamic-Sleep/ class=md-nav__link> Dynamic Sleep </a> </li> <li class=md-nav__item> <a href=../I2CDevices/ class=md-nav__link> I2C Devices </a> </li> <li class=md-nav__item> <a href=../Tasmota-IR/ class=md-nav__link> IR Communication </a> </li> <li class=md-nav__item> <a href=../Lights/ class=md-nav__link> Lights </a> </li> <li class=md-nav__item> <a href=../OpenTherm/ class=md-nav__link> OpenTherm </a> </li> <li class=md-nav__item> <a href=../PIR-Motion-Sensors/ class=md-nav__link> PIR Motion Sensors </a> </li> <li class=md-nav__item> <a href=../Power-Monitoring-Calibration/ class=md-nav__link> Power Monitoring Calibration </a> </li> <li class=md-nav__item> <a href=../PWM-dimmer-switch/ class=md-nav__link> PWM Dimmer </a> </li> <li class=md-nav__item> <a href=../RF-Protocol/ class=md-nav__link> RF 433MHz Protocol </a> </li> <li class=md-nav__item> <a href=../Rules/ class=md-nav__link> Rules </a> </li> <li class=md-nav__item> <a href=../Scripting-Language/ class=md-nav__link> Scripting </a> </li> <li class=md-nav__item> <a href=../Serial-to-TCP-Bridge/ class=md-nav__link> Serial to TCP Bridge </a> </li> <li class=md-nav__item> <a href=../Blinds-and-Shutters/ class=md-nav__link> Shutters and Blinds </a> </li> <li class=md-nav__item> <a href=../Smart-Meter-Interface/ class=md-nav__link> Smart Meter Interface </a> </li> <li class=md-nav__item> <a href=../Subscribe-%26-Unsubscribe/ class=md-nav__link> Subscribe & Unsubscribe </a> </li> <li class=md-nav__item> <a href=../TasmotaClient/ class=md-nav__link> TasmotaClient </a> </li> <li class=md-nav__item> <a href=../Thermostat/ class=md-nav__link> Thermostat </a> </li> <li class=md-nav__item> <a href=../Timers/ class=md-nav__link> Timers </a> </li> <li class=md-nav__item> <a href=../TLS/ class=md-nav__link> TLS Secured MQTT </a> </li> <li class=md-nav__item> <a href=../TuyaMCU/ class=md-nav__link> TuyaMCU </a> </li> <li class=md-nav__item> <a href=../Zigbee/ class=md-nav__link> Zigbee </a> </li> <li class=md-nav__item> <a href=../Tutorials/ class=md-nav__link> Projects and Tutorials </a> </li> <li class=md-nav__item> <a href=../For-Developers/ class=md-nav__link> For Developers </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-13 type=checkbox id=nav-13> <label class=md-nav__link for=nav-13> Smart Home Integrations <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Smart Home Integrations" data-md-level=1> <label class=md-nav__title for=nav-13> <span class="md-nav__icon md-icon"></span> Smart Home Integrations </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Integrations/ class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=../Alexa/ class=md-nav__link> Alexa </a> </li> <li class=md-nav__item> <a href=../AWS-IoT/ class=md-nav__link> AWS IoT </a> </li> <li class=md-nav__item> <a href=../Domoticz/ class=md-nav__link> Domoticz </a> </li> <li class=md-nav__item> <a href=../Home-Assistant/ class=md-nav__link> Home Assistant </a> </li> <li class=md-nav__item> <a href=../Homebridge/ class=md-nav__link> Homebridge </a> </li> <li class=md-nav__item> <a href=../HomeSeer/ class=md-nav__link> HomeSeer </a> </li> <li class=md-nav__item> <a href=../IP-Symcon/ class=md-nav__link> IP Symcon </a> </li> <li class=md-nav__item> <a href=../KNX/ class=md-nav__link> KNX </a> </li> <li class=md-nav__item> <a href=../NodeRed/ class=md-nav__link> NodeRed </a> </li> <li class=md-nav__item> <a href=../nymea/ class=md-nav__link> nymea </a> </li> <li class=md-nav__item> <a href=../Octoprint/ class=md-nav__link> OctoPrint </a> </li> <li class=md-nav__item> <a href=../openHAB/ class=md-nav__link> openHAB </a> </li> <li class=md-nav__item> <a href=../otto/ class=md-nav__link> Otto </a> </li> <li class=md-nav__item> <a href=https://github.com/arendst/Tasmota/issues/3769 class=md-nav__link> IOBroker </a> </li> <li class=md-nav__item> <a href=https://github.com/tim-hellhake/tasmota-adapter class=md-nav__link> Mozilla WebThings Adapter </a> </li> <li class=md-nav__item> <a href=https://github.com/hongtat/tasmota-connect class=md-nav__link> SmartThings </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-14 type=checkbox id=nav-14> <label class=md-nav__link for=nav-14> Peripherals <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Peripherals data-md-level=1> <label class=md-nav__title for=nav-14> <span class="md-nav__icon md-icon"></span> Peripherals </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Supported-Peripherals/ class=md-nav__link> Supported Peripherals </a> </li> <li class=md-nav__item> <a href=../ADC/ class=md-nav__link> Analog pin </a> </li> <li class=md-nav__item> <a href=../Buzzer/ class=md-nav__link> Buzzer </a> </li> <li class=md-nav__item> <a href=../Displays/ class=md-nav__link> Displays </a> </li> <li class=md-nav__item> <a href=../ESP32/ class=md-nav__link> ESP32 Support (Beta development) </a> </li> <li class=md-nav__item> <a href=../A4988-Stepper-Motor-Controller/ class=md-nav__link> A4988 stepper motor controller </a> </li> <li class=md-nav__item> <a href=../AHT1x/ class=md-nav__link> AHT1x temperature and humidity sensor </a> </li> <li class=md-nav__item> <a href=../AM2301/ class=md-nav__link> AM2301 temperature and humidity sensor </a> </li> <li class=md-nav__item> <a href=../APDS-9960/ class=md-nav__link> APDS-9960 light and gesture sensor </a> </li> <li class=md-nav__item> <a href=../AS3935/ class=md-nav__link> AS3935 Franklin Lightning sensor </a> </li> <li class=md-nav__item> <a href=../AZ-7798/ class=md-nav__link> AZ7798 CO<sub>2</sub> meter </a> </li> <li class=md-nav__item> <a href=../BH1750/ class=md-nav__link> BH1750 ambient light sensor </a> </li> <li class=md-nav__item> <a href=../BME280/ class=md-nav__link> BME280 temperature, humidity and pressure sensor </a> </li> <li class=md-nav__item> <a href=../BME680/ class=md-nav__link> BME680 temperature, humidity, pressure and gas sensor </a> </li> <li class=md-nav__item> <a href=../CC2530/ class=md-nav__link> CC253x Zigbee module </a> </li> <li class=md-nav__item> <a href=../Moisture-Sensor-and-Chirp%21-Sensor/ class=md-nav__link> Chirp! moisture sensor </a> </li> <li class=md-nav__item> <a href=../DHT11/ class=md-nav__link> DHT11 temperature and humidity sensor </a> </li> <li class=md-nav__item> <a href=../DS18x20/ class=md-nav__link> DS18x20 temperature sensor </a> </li> <li class=md-nav__item> <a href=../DS3231/ class=md-nav__link> DS3231 Real Time Clock </a> </li> <li class=md-nav__item> <a href=../EZO/ class=md-nav__link> EZO sensors </a> </li> <li class=md-nav__item> <a href=../HM-10/ class=md-nav__link> HM-10 Bluetooth module </a> </li> <li class=md-nav__item> <a href=../HM-17/ class=md-nav__link> HM-17 Bluetooth module </a> </li> <li class=md-nav__item> <a href=../HC-SR04/ class=md-nav__link> HC-SR04 ultrasonic ranging sensor </a> </li> <li class=md-nav__item> <a href=../Honeywell-HIH/ class=md-nav__link> Honeywell HIH temperature and humidity sensor </a> </li> <li class=md-nav__item> <a href=../IAQ/ class=md-nav__link> iAQ-Core indoor air quality sensor </a> </li> <li class=md-nav__item> <a href=../IR-Remote/ class=md-nav__link> IR Remote </a> </li> <li class=md-nav__item> <a href=../LM75AD/ class=md-nav__link> LM75AD temperature sensor </a> </li> <li class=md-nav__item> <a href=../MCP230xx/ class=md-nav__link> MCP23008 / MCP23017 GPIO Expander </a> </li> <li class=md-nav__item> <a href=../MGC3130/ class=md-nav__link> MGC3130 3D tracking and gesture controller </a> </li> <li class=md-nav__item> <a href=../MH-Z19B/ class=md-nav__link> MH-Z19B CO<sub>2</sub> Sensor </a> </li> <li class=md-nav__item> <a href=../MLX90614/ class=md-nav__link> MLX90614 infrared thermometer </a> </li> <li class=md-nav__item> <a href=../MLX90640/ class=md-nav__link> MLX90640 Far infrared thermal sensor array </a> </li> <li class=md-nav__item> <a href=../MPR121/ class=md-nav__link> MPR121 capacitive touch sensor </a> </li> <li class=md-nav__item> <a href=../MPU-6050/ class=md-nav__link> MPU-6050 gyroscope and accelerometer </a> </li> <li class=md-nav__item> <a href=../NRF24L01/ class=md-nav__link> NRF24L01 module </a> </li> <li class=md-nav__item> <a href=../OpenTherm/ class=md-nav__link> OpenTherm </a> </li> <li class=md-nav__item> <a href=../P1-Smart-Meter/ class=md-nav__link> P1 Smart Meter </a> </li> <li class=md-nav__item> <a href=../PAJ7620/ class=md-nav__link> PAJ7620U2 gesture sensor </a> </li> <li class=md-nav__item> <a href=../PCA9685/ class=md-nav__link> PCA9685 12-bit PWM controller </a> </li> <li class=md-nav__item> <a href=../PN532/ class=md-nav__link> PN532 NFC reader </a> </li> <li class=md-nav__item> <a href=../PZEM-0XX/ class=md-nav__link> PZEM-0xx power monitor </a> </li> <li class=md-nav__item> <a href=../RCWL-0516/ class=md-nav__link> RCWL-0516 microwave radar motion sensor </a> </li> <li class=md-nav__item> <a href=../RDM6300/ class=md-nav__link> RDM6300 RFID reader </a> </li> <li class=md-nav__item> <a href=../RF-Transciever/ class=md-nav__link> RF Transciever </a> </li> <li class=md-nav__item> <a href=../SDS011/ class=md-nav__link> SDS011 air quality sensor </a> </li> <li class=md-nav__item> <a href=../SHT30/ class=md-nav__link> SHT30 temperature sensor </a> </li> <li class=md-nav__item> <a href=../TX2x/ class=md-nav__link> TX20/TX23 anemometer </a> </li> <li class=md-nav__item> <a href=../TSL2561/ class=md-nav__link> TSL2561 light sensor </a> </li> <li class=md-nav__item> <a href=../VEML6070/ class=md-nav__link> VEML6070 UV light sensor </a> </li> <li class=md-nav__item> <a href=../VEML6075/ class=md-nav__link> VEML6075 UVA/UVB/UVINDEX Sensor </a> </li> <li class=md-nav__item> <a href=../VEML7700/ class=md-nav__link> VEML7700 Ambient light sensor </a> </li> <li class=md-nav__item> <a href=../VL53L0x/ class=md-nav__link> VL53L0X laser ranging module </a> </li> <li class=md-nav__item> <a href=../WS2812B-RGB-Shield/ class=md-nav__link> WS2812B RGB Shield </a> </li> <li class=md-nav__item> <a href=../WS2812B-and-WS2813/ class=md-nav__link> WS2812B and WS2813 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-15 type=checkbox id=nav-15> <label class=md-nav__link for=nav-15> Supported Devices <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Supported Devices" data-md-level=1> <label class=md-nav__title for=nav-15> <span class="md-nav__icon md-icon"></span> Supported Devices </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Configuration-Procedure-for-New-Devices/ class=md-nav__link> Configure Unknown Device </a> </li> <li class=md-nav__item> <a href="https://templates.blakadder.com/ " target='_blank""' class=md-nav__link> All Supported Devices </a> </li> <li class=md-nav__item> <a href=../Pinouts/ class=md-nav__link> Wi-Fi Module Pinouts </a> </li> <li class=md-nav__item> <a href=../Supported-Modules/ class=md-nav__link> Supported Modules </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-16 type=checkbox id=nav-16> <label class=md-nav__link for=nav-16> Help <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Help data-md-level=1> <label class=md-nav__title for=nav-16> <span class="md-nav__icon md-icon"></span> Help </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../FAQ/ class=md-nav__link> FAQ </a> </li> <li class=md-nav__item> <a href=../Troubleshooting/ class=md-nav__link> Troubleshooting </a> </li> <li class=md-nav__item> <a href=../Device-Recovery/ class=md-nav__link> Device Recovery </a> </li> <li class=md-nav__item> <a href="https://discord.gg/Ks2Kzd4 " target='_blank""' class=md-nav__link> Discord Support </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../Builds/ class=md-nav__link> Builds </a> </li> <li class=md-nav__item> <a href=../Compile-your-build/ class=md-nav__link> Compiling </a> </li> <li class=md-nav__item> <a href=../Contributing/ class=md-nav__link> Contributing </a> </li> <li class=md-nav__item> <a href="http://ota.tasmota.com/tasmota/release/ " target='_blank""' class=md-nav__link> Download </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=#gz-binaries class=md-nav__link> .gz binaries </a> </li> <li class=md-nav__item> <a href=#upgrade-flow class=md-nav__link> Upgrade Flow </a> </li> <li class=md-nav__item> <a href=#upgrade-using-webui class=md-nav__link> Upgrade using webUI </a> <nav class=md-nav aria-label="Upgrade using webUI"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#upgrade-by-web-server class=md-nav__link> Upgrade by web server </a> </li> <li class=md-nav__item> <a href=#upgrade-by-file-upload class=md-nav__link> Upgrade by file upload </a> </li> <li class=md-nav__item> <a href=#upload-buffer-miscompare-error class=md-nav__link> Upload Buffer Miscompare Error </a> </li> <li class=md-nav__item> <a href=#using-commands class=md-nav__link> Using Commands </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#serial-upgrade class=md-nav__link> Serial Upgrade </a> </li> <li class=md-nav__item> <a href=#external-programs class=md-nav__link> External Programs </a> <nav class=md-nav aria-label="External Programs"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#private-ota-server class=md-nav__link> Private OTA Server </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#migration-path class=md-nav__link> Migration Path </a> </li> <li class=md-nav__item> <a href=#downgrading class=md-nav__link> Downgrading </a> </li> <li class=md-nav__item> <a href=#backing-up-settings class=md-nav__link> Backing Up Settings </a> </li> <li class=md-nav__item> <a href=#decode-config-tool class=md-nav__link> decode-config tool </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <a href=https://github.com/tasmota/docs/blob/master/docs/Upgrading.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg> </a> <h1>Upgrading</h1> <div class="admonition info"> <p class=admonition-title>Easily upgrade Tasmota to a newer version or different build while keeping all your settings</p> </div> <p><span style="font-size:30px;font-weight: bold">The first rule of upgrading: If it ain't broke, don't fix it!</span></p> <p>In other words, ensure that there is a good reason to mess with a working installation (e.g., a need to use a new feature or address a found problem fixed in the current version).</p> <div class="admonition tip"> <p class=admonition-title>Backup before upgrading</p> <p>Any time you upgrade it is highly recommended to <a href=#backing-up-settings>back up your device settings</a>. That is easily done from the webUI using <strong>Configuration - Backup Config</strong>.</p> </div> <p>If you wish to switch to a different <a href=../Builds/ >build</a> or use development branch you need to download a binary file (gzipped or regular) or change the <strong><em>OTA Url</em></strong> link.</p> <p>Download binaries from:</p> <ul> <li>GitHub <a href=https://github.com/arendst/Tasmota/releases>releases</a></li> <li>Official OTA server:</li> <li><a href=http://ota.tasmota.com/tasmota/release/ >Current release</a></li> <li><a href=http://ota.tasmota.com/tasmota/ >Development branch</a></li> <li>Older release binaries: <a href=http://ota.tasmota.com/tasmota/release-9.1.0/ >9.1.0</a>, <a href=http://ota.tasmota.com/tasmota/release-8.5.1/ >8.5.1</a>, <a href=http://ota.tasmota.com/tasmota/release-7.2.0/ >7.2.0</a>, <a href=http://ota.tasmota.com/tasmota/release-6.7.1/ >6.7.1</a></li> <li>your <a href=#private-ota-server>personal OTA server</a></li> </ul> <h2 id=gz-binaries>.gz binaries<a class=headerlink href=#gz-binaries title="Permanent link">~</a></h2> <div class="admonition failure"> <p class=admonition-title>Gzipped binaries can be used <strong>only</strong> once you've upgraded to atleast Tasmota 8.2</p> <p>Trying to upgrade with a gzipped binary using versions older than 8.2 will fail.</p> </div> <p>Tasmota 8.2 introduced upgrading using gzipped binaries which are smaller in size and will likely skip the intermediary minimal build installation. This makes the upgrade process faster and straightforward. </p> <p>To use simply add <code>.gz</code> to the existing OTA Url or download the <code>.bin.gz</code> binary from the official <a href=http://ota.tasmota.com/tasmota/release/ >OTA Server</a> and the next upgrade will use the compressed file.</p> <h2 id=upgrade-flow>Upgrade Flow<a class=headerlink href=#upgrade-flow title="Permanent link">~</a></h2> <p><strong>v1.0.11</strong> &nbsp;<img alt=ðŸ”€ class=emojione src=https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/1f500.png title=:twisted_rightwards_arrows:>&nbsp; <a href=https://github.com/arendst/Tasmota/releases/download/v3.9.22/firmware.bin><strong>v3.9.22</strong></a> &nbsp;<img alt=ðŸ”€ class=emojione src=https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/1f500.png title=:twisted_rightwards_arrows:>&nbsp; <a href=https://github.com/arendst/Tasmota/releases/download/v4.2.0/firmware.bin><strong>v4.2.0</strong></a> &nbsp;<img alt=ðŸ”€ class=emojione src=https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/1f500.png title=:twisted_rightwards_arrows:>&nbsp; <a href=https://github.com/arendst/Tasmota/releases/download/v5.14.0/sonoff-classic.bin><strong>v5.14.0</strong></a> &nbsp;<img alt=ðŸ”€ class=emojione src=https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/1f500.png title=:twisted_rightwards_arrows:>&nbsp; <a href=https://github.com/arendst/Tasmota/releases/download/v6.7.1/sonoff-basic.bin><strong>v6.7.1</strong></a> &nbsp;<img alt=ðŸ”€ class=emojione src=https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/1f500.png title=:twisted_rightwards_arrows:>&nbsp; <a href=https://github.com/arendst/Tasmota/releases/download/v7.2.0/tasmota-lite.bin><strong>v7.2.0</strong></a> &nbsp;<img alt=ðŸ”€ class=emojione src=https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/1f500.png title=:twisted_rightwards_arrows:>&nbsp; <a href=https://github.com/arendst/Tasmota/releases/download/v8.5.1/tasmota-lite.bin><strong>v8.5.1</strong></a> &nbsp;<img alt=ðŸ”€ class=emojione src=https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/1f500.png title=:twisted_rightwards_arrows:>&nbsp; <a href=https://github.com/arendst/Tasmota/releases/download/v9.1.0/tasmota-lite.bin.gz><strong>v9.1</strong></a> &nbsp;<img alt=ðŸ”€ class=emojione src=https://cdnjs.cloudflare.com/ajax/libs/emojione/2.2.7/assets/png/1f500.png title=:twisted_rightwards_arrows:>&nbsp; <a href=https://github.com/arendst/Tasmota/releases/ ><strong>Current release</strong></a></p> <p>Follow the path strictly to ensure success. <strong>Do not install only tasmota-minimal.bin</strong> but upgrade to full, working firmware. Linked <code>-lite.bin</code> binaries will do the job. </p> <div class="admonition warning"> <p class=admonition-title>Tasmota v9.1 introduced a major change in GPIO mapping</p> <p>Downgrading is not recommended and will probably not work correctly.</p> </div> <div class="admonition warning"> <p class=admonition-title>Tasmota v8.1 introduced a major change in parameter storage.</p> <p>Downgrading is not recommended and upgrading to 8.1 <strong>has to follow</strong> the recommended path and <strong>can still</strong> fail in some cases. Don't forget to backup!</p> </div> <h2 id=upgrade-using-webui>Upgrade using webUI<a class=headerlink href=#upgrade-using-webui title="Permanent link">~</a></h2> <p>Upgrading the device firmware <a href=https://en.wikipedia.org/wiki/Over-the-air_programming>over-the-air</a>, aka OTA, is the most convenient way to upgrade. </p> <p>To start the upgrade, open a web browser to your device's web UI and select <strong>Firmware Upgrade</strong>.</p> <p><img alt=Upgrading_1 src=https://user-images.githubusercontent.com/5904370/68962045-fbaaf380-07d3-11ea-9736-a44c13ef7653.png></p> <p>You are presented with two choices:</p> <ul> <li><strong><em>Upgrade by webserver</em></strong> - use an OTA server </li> <li><strong><em>Ugprade by file upload</em></strong> - uploading a downloaded or self-compiled binary file from your computer</li> </ul> <p><img alt=Upgrading_2 src=https://user-images.githubusercontent.com/5904370/68962130-301eaf80-07d4-11ea-87bb-54c018fe7794.png></p> <h3 id=upgrade-by-web-server>Upgrade by web server<a class=headerlink href=#upgrade-by-web-server title="Permanent link">~</a></h3> <p>If you want to upgrade to the latest release version click the first <strong>Start Upgrade</strong> button. This screen should appear</p> <p><img alt=Upgrading_3 src=https://user-images.githubusercontent.com/5904370/68962209-52b0c880-07d4-11ea-8ea8-193e945dab9b.png></p> <p>During this process Tasmota will download the new firmware from the url and install it. If you're not using a gzipped binary it might need to download <code>tasmota-minimal.bin</code> first, but all that happens automatically. All you have to do is <strong>wait 2 to 5 minutes</strong>. </p> <p>After the upgrade is completed you can reconnect back to the web UI and check the firmware version on the bottom of the page or in the <strong><em>Information</em></strong> tab of the webUI.</p> <h3 id=upgrade-by-file-upload>Upgrade by file upload<a class=headerlink href=#upgrade-by-file-upload title="Permanent link">~</a></h3> <p>Go to <strong>Firmware Upgrade</strong>. This time browse to the binary you want to upgrade to with <strong>Choose File</strong> and click <strong>Start upgrade</strong>. <br> <em>In our example its <code>tasmota-sensors.bin</code>.</em></p> <p><img alt=image src=https://user-images.githubusercontent.com/5904370/68962783-a7087800-07d5-11ea-9f8c-bd90fdb3e9ca.png></p> <p>You will see an <strong>Upload starting...</strong> and then <strong>Upload successful</strong> message. Wait until the device restarts, reconnect back to the web UI and check the firmware version on the bottom of the page or in the <strong><em>Information</em></strong> tab of the webUI.</p> <div class="admonition failure"> <p class=admonition-title>Minimal build upgrade step</p> <p>If the binary you're upgrading with is larger than 500kb you also need to download the minimal build (<code>tasmota-minimal.bin(.gz)</code>) since the upload process needs the space in flash memory to upload the new binary. </p> </div> <p>When you try to immediately upgrade with the new binary without using smaller minimal firmware you will be greeted with this error.</p> <p><img alt=Upgrading_4 src=https://user-images.githubusercontent.com/5904370/68962296-85f35780-07d4-11ea-90ae-86fcd7d14681.png></p> <h3 id=upload-buffer-miscompare-error>Upload Buffer Miscompare Error<a class=headerlink href=#upload-buffer-miscompare-error title="Permanent link">~</a></h3> <p><mark>This step is necessary only if you get the "Upload buffer miscompare" error</mark> </p> <p>This means your flash doesn't have enough free space to install the binary you're trying to upload. Use a .gz binary instead of the .bin one. If you still receive the same error download tasmota-minimal.bin(.gz) and follow instructions:</p> <p>Browse to the minimal binary with <strong><em>Choose File</em></strong>. The chosen filename should be visible. <br> <em>In our example its <code>tasmota-minimal.bin</code>.</em></p> <p><img alt="minimal upgrade" src=https://user-images.githubusercontent.com/5904370/68962383-baffaa00-07d4-11ea-8122-fcf971ca96f5.png></p> <p>Wait until the device restarts. In the Main Menu web UI will display this warning message on top.</p> <p><img alt="minimal message" src=https://user-images.githubusercontent.com/5904370/68962530-1a5dba00-07d5-11ea-83aa-f6f640d9a38f.png></p> <p>Proceed to <a href=#upgrade-by-file-upload>upgrade</a></p> <h3 id=using-commands>Using Commands<a class=headerlink href=#using-commands title="Permanent link">~</a></h3> <p>Your device can be upgraded using <a href=../Commands/ >commands</a> via MQTT, web requests or Console in the web UI.</p> <p><a href=../Commands/#otaurl>OtaUrl</a> is used to set your OTA address. </p> <div class=codehilite><pre><span></span><code><span class=kt>OtaUrl</span> <span class=n>http</span><span class=kt>://</span><span class=n>ota</span><span class=o>.</span><span class=n>tasmota</span><span class=o>.</span><span class=n>com</span><span class=o>/</span><span class=n>tasmota</span><span class=o>/</span><span class=n>tasmota</span><span class=o>-</span><span class=n>sensors</span><span class=o>.</span><span class=n>bin</span>
</code></pre></div> <p><em>In this example we chose a development branch version with additional sensors support</em></p> <p>Initiate <a href=../Commands/#upgrade>upgrade</a> from OTA server</p> <div class=codehilite><pre><span></span><code><span class=kt>Upgrade</span> <span class=mi>1</span>
</code></pre></div> <p>Wait for the upgrade process to complete and check the Tasmota version. In console you can use <code>Status 2</code>.</p> <h2 id=serial-upgrade>Serial Upgrade<a class=headerlink href=#serial-upgrade title="Permanent link">~</a></h2> <p>Upgrade over the serial connection using serial-to-USB adapter.</p> <p>Upload the new version over serial using the same process as in <a href=../Getting-Started/#flashing>Flashing</a> but DO NOT erase flash. The new binary will overwrite the old one and keep your settings.</p> <h2 id=external-programs>External Programs<a class=headerlink href=#external-programs title="Permanent link">~</a></h2> <p><a href=https://github.com/jziolkowski/tdm><strong>Tasmota Device Manager</strong></a> or TDM is a multiplatform GUI application written in Python for discovery and management of Tasmota devices. You can set up OTA url and initiate OTA upgrade from TDM using GUI.</p> <p><a href=../openHAB/#maintenance-actions><strong>openHAB</strong></a> - implement an automation rule to upgrade devices from openHAB</p> <p><a href=https://flows.nodered.org/flow/888b4cd95250197eb429b2f40d188185><strong>Node-RED OTA server and firmware manager</strong></a> - <a href=https://nodered.org/ >Node-RED</a> flow for managing OTA updates </p> <p><a href=../OTA-over-SCP/ ><strong>OTA over SCP</strong></a> - setup and configure "OTA over SCP" upload for PlatformIO</p> <h3 id=private-ota-server>Private OTA Server<a class=headerlink href=#private-ota-server title="Permanent link">~</a></h3> <p>It is possible to create your own simple http OTA server (https is not supported) using Python and perform upgrades from there. Install Python3 and from the folder where the binary resides (make sure <code>tasmota-minimal.bin</code> is located there too) run:</p> <div class=codehilite><pre><span></span><code><span class=err>python -m http.server 8000</span>
</code></pre></div> <p>(If the response is "No module named http" then try again with <code>python3</code> instead of <code>python</code>.)</p> <p>Change your OtaUrl to http://ipoftheserver:8000/yourbinary.bin(.gz) and start the upgrade process. Note: do not use <code>/</code>, <code>-</code>, or <code>.</code> characters in the name of <code>yourbinary</code>.</p> <p>If your binary build (yourbinary.bin) is larger than the available free flash program space, Tasmota will need to first install the minimal version of Tasmota to make more space. To have this work via the web server OTA process, you have to copy the file <code>tasmota-minimal.bin</code> in the same folder where <code>OTAURL</code> for <code>yourbinary.bin</code> is placed, and rename <code>tasmota-minimal.bin</code> to <code>yourbinary-minimal.bin</code>.</p> <h2 id=migration-path>Migration Path<a class=headerlink href=#migration-path title="Permanent link">~</a></h2> <p>Until now several versions of Tasmota have been released starting with the C version Sonoff-MQTT-OTA followed by Sonoff-MQTT-OTA-Arduino, Sonoff-Tasmota and ultimately Tasmota.</p> <p>Intermediate upgrade steps are needed to migrate from older firmware to the current version. No migration is possible from original <a href=https://github.com/arendst/Sonoff-MQTT-OTA><em>Sonoff-MQTT-OTA</em></a> to <a href=https://github.com/arendst/Sonoff-MQTT-OTA-Arduino><em>Sonoff-MQTT-OTA-Arduino</em></a> v1.0.11.</p> <div class="admonition failure"> <p class=admonition-title>DO NOT ATTEMPT TO UPGRADE VERSIONS PRIOR TO v7.x STRAIGHT TO THE CURRENT VERSION</p> </div> <p>Remember that you <strong>must take each individual step</strong> between the device firmware version and the latest available.You can find all the required binaries in <a href=https://github.com/arendst/Tasmota/tags>Tasmota Releases</a> listed by version number.</p> <div class="admonition tip"> <p class=admonition-title>Tip</p> <p>As a safeguard perform "Backup Configuration" before upgrading. If settings are lost "Restore Configuration" should bring them back.</p> </div> <p>Upgrading from one minor version to the next is mostly painless as the settings are saved in the same location in flash and newer settings are appended.</p> <p>As said, mostly painless! There are some deviations to this rule as the flash settings changed. </p> <div class="admonition quote"> <p class=admonition-title>Notice for versions between 6.6.0.7 and 6.6.0.11</p> <p>If you've used development versions between 6.6.0.7 and 6.6.0.11 <a href=#backing-up-settings><strong>back up your device settings</strong></a>. Convert the backup to human readable form as you <strong>MUST</strong> restore these settings manually. <br> Perform a <code>Reset 6</code> before upgrading the firmware and, for safe measure, after the upgrade completes. </p> </div> <!-- 
  The settings flash layout and OTA image locations are different from the Arduino versions
* Easy migration from **Sonoff-MQTT-OTA-Arduino 1.0.11** to **Sonoff-Tasmota 3.9.x**.  
  After installing Tasmota for the first time some settings need to be adjusted via web configuration or MQTT commands.
* Easy migration from **Sonoff-MQTT-OTA-Arduino 3.1.0** to **Sonoff-Tasmota 4.x**.  
  After installing Tasmota for the first time some settings need to be adjusted via web configuration or MQTT commands.
* Easy migration from **Sonoff-Tasmota 4.x** to **Sonoff-Tasmota 5.14**.
  As a safeguard perform a Backup Configuration before installing the new version. If settings are lost after the upgrade perform a Restore Configuration.
* Easy migration from **Sonoff-Tasmota 5.2** to **Sonoff-Tasmota 6.x**. 
  As a safeguard perform a **_Backup Configuration_** before installing the new version. If settings are lost after the upgrade perform a **Restore Configuration**. 

  - Enter your device configurations using the settings saved in the first step.
* Easy migration from **Tasmota 6.x** to **Tasmota 7.x**. 
  As a safeguard perform a **Backup Configuration** before installing the new version. If settings are lost after the upgrade perform a **Restore Configuration**.


  * Upgrade from **Tasmota 7.2** to **Tasmota 8.5.1**
  * Upgrade from **Tasmota 8.5.1** to **Tasmota 9.x**
--> <h2 id=downgrading>Downgrading<a class=headerlink href=#downgrading title="Permanent link">~</a></h2> <p>While fallback or downgrading is common practice it was never supported due to Settings additions or changes in newer releases. </p> <p>Starting with release v8.1.0 Doris settings in flash are re-allocated in such a way that fallback is only allowed and possible to v7.2.0. Once at v7.2.0 you're on your own when downgrading even further.</p> <h2 id=backing-up-settings>Backing Up Settings<a class=headerlink href=#backing-up-settings title="Permanent link">~</a></h2> <p>Tasmota uses flash memory to store options and settings. New versions add (or remove) features that use various regions of that memory. If you did not erase flash when you flashed your device, an updated version of Tasmota may be accessing areas with values left over from the old Tasmota or even the original factory firmware. This might cause unexpected and unwanted behavior or even major problems (constant reboots or reconnects). </p> <p>To avoid this use our decode-config tool to easily create and restore backups in Tasmota:</p> <h2 id=decode-config-tool>decode-config tool<a class=headerlink href=#decode-config-tool title="Permanent link">~</a></h2> <ul> <li><a href=https://github.com/tasmota/decode-config/releases>decode-config</a> - OS independent Python program to backup and restore Tasmota configuration data, also available as precompiled executables for Windows, MacOS and Linux. See <a href=https://github.com/tasmota/decode-config/blob/master/README.md>Using instructions</a> for details.<br> If using one of the precompiled binary for your OS replace <code>decode-config.py</code> with <code>decode-config_win32.exe</code>, <code>decode-config_win64.exe</code>, <code>decode-config_mac</code> or <code>decode-config_linux</code> from the instruction examples.</li> </ul> <h4>1. make a configuration backup:</h4> <ul> <li> <p>Create a new backup straight from your device </p> <p><code>decode-config.py --source &lt;deviceIP&gt; --backup-file Config-@f</code></p> <p><code>@f</code> will be replaced by decode-config to device's FriendlyName</p> </li> </ul> <p><strong><em>or</em></strong></p> <ul> <li>Create a backup from previously made <code>.dmp</code> file</li> </ul> <p><code>decode-config.py --source &lt;dmp_filename&gt; --backup-file Config-@f</code></p> <h4>2. perform a device reset</h4> <p>Erase flash settings area but keep Wi-Fi and MQTT settings</p> <p><code>Reset 6</code></p> <h4>3. upgrade the firmware via OTA or file upload</h4> <h4>4. restore configuration</h4> <p><code>decode-config.py --source &lt;deviceIP&gt; --restore-file &lt;backupfile&gt;</code></p> <p>...and you're done!</p> <p>If you can't restore configuration directly you can configure the device manually referring to the <a href=../Commands/ >Commands article</a> and the settings (e.g., SetOptions, Rules, etc.) in the JSON file you created in step #1. You can paste the JSON into a <a href=https://jsonformatter.org/json-parser>JSON parser</a> to make it easily readable. </p> <div class="admonition tip"> <p class=admonition-title>Tip</p> <p>If <strong><em>Backup Configuration -&gt; Restore Configuration</em></strong> fails, reset to firmware defaults and use <a href=#decode-config-tool>decode-config tool</a> to restore your backed up configuration.</p> </div> </article> </div> </div> </main> <footer class=md-footer> <div class=md-footer-nav> <nav class="md-footer-nav__inner md-grid" aria-label=Footer> <a href=../Getting-Started/ class="md-footer-nav__link md-footer-nav__link--prev" rel=prev> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </div> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Previous </span> Getting Started </div> </div> </a> <a href=../MQTT/ class="md-footer-nav__link md-footer-nav__link--next" rel=next> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> Next </span> MQTT </div> </div> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg> </div> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-footer-social> <a href=https://discord.gg/Ks2Kzd4 target=_blank rel=noopener title=discord.gg class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M297.216 243.2c0 15.616-11.52 28.416-26.112 28.416-14.336 0-26.112-12.8-26.112-28.416s11.52-28.416 26.112-28.416c14.592 0 26.112 12.8 26.112 28.416zm-119.552-28.416c-14.592 0-26.112 12.8-26.112 28.416s11.776 28.416 26.112 28.416c14.592 0 26.112-12.8 26.112-28.416.256-15.616-11.52-28.416-26.112-28.416zM448 52.736V512c-64.494-56.994-43.868-38.128-118.784-107.776l13.568 47.36H52.48C23.552 451.584 0 428.032 0 398.848V52.736C0 23.552 23.552 0 52.48 0h343.04C424.448 0 448 23.552 448 52.736zm-72.96 242.688c0-82.432-36.864-149.248-36.864-149.248-36.864-27.648-71.936-26.88-71.936-26.88l-3.584 4.096c43.52 13.312 63.744 32.512 63.744 32.512-60.811-33.329-132.244-33.335-191.232-7.424-9.472 4.352-15.104 7.424-15.104 7.424s21.248-20.224 67.328-33.536l-2.56-3.072s-35.072-.768-71.936 26.88c0 0-36.864 66.816-36.864 149.248 0 0 21.504 37.12 78.08 38.912 0 0 9.472-11.52 17.152-21.248-32.512-9.728-44.8-30.208-44.8-30.208 3.766 2.636 9.976 6.053 10.496 6.4 43.21 24.198 104.588 32.126 159.744 8.96 8.96-3.328 18.944-8.192 29.44-15.104 0 0-12.8 20.992-46.336 30.464 7.68 9.728 16.896 20.736 16.896 20.736 56.576-1.792 78.336-38.912 78.336-38.912z"/></svg> </a> <a href=https://t.me/tasmota target=_blank rel=noopener title=t.me class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><path d="M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm121.8 169.9l-40.7 191.8c-3 13.6-11.1 16.9-22.4 10.5l-62-45.7-29.9 28.8c-3.3 3.3-6.1 6.1-12.5 6.1l4.4-63.1 114.9-103.8c5-4.4-1.1-6.9-7.7-2.5l-142 89.4-61.2-19.1c-13.3-4.2-13.6-13.3 2.8-19.7l239.1-92.2c11.1-4 20.8 2.7 17.2 19.5z"/></svg> </a> <a href=https://github.com/tasmota target=_blank rel=noopener title=github.com class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 480 512"><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg> </a> </div> </div> </div> </footer> </div> <script src=../assets/javascripts/vendor.08c56446.min.js></script> <script src=../assets/javascripts/bundle.6ced434e.min.js></script><script id=__lang type=application/json>{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script> <script>
        app = initialize({
          base: "..",
          features: ['navigation.tabs', 'navigation.instant', 'navigation.tabs.sticky'],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.8c7e0a7e.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script> </body> </html>